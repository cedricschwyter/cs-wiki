<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Hardware Description Languages</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="fcb21983-1f43-4191-a76d-1574a38442ae" class="page sans"><header><div class="page-header-icon undefined"><span class="icon">ðŸ¥Ž</span></div><h1 class="page-title">Hardware Description Languages</h1></header><div class="page-body"><p id="294f58b0-8002-46ad-877f-226f8fa7cb26" class="">
</p><nav id="c099de27-0f31-44dd-b3e9-60a898bc4321" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#a40a622b-256f-4156-b7e9-512403ec5dba">Introduction</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a77d63ec-cb51-4fd2-b6a4-8805fb2a467f">Modules</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#44c00991-3fea-4dad-8ca7-ffaf6b29864d">Language Origins</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#86a9df6d-3e6f-4c90-9983-b9b6876cf7cb">Simulation and Synthesis</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#5409f160-62a6-4050-856b-b51a194b0cfa">Simulation</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#d153c2f0-69bb-48df-9410-ab96d22a038e">Synthesis</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#58d690c0-e430-41f3-99bc-0917ca0e56ea">Combinational Logic</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c43accde-db43-41a7-ac13-c1254472e2e0">Bitwise Operators</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e10c2ad4-4fea-43cb-a4b3-b6a6cd44113e">Comments and White Space</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4c2b7e25-4bdc-4a43-9db2-9d2c204d42ef">Reduction Operators</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#da290292-a67d-4dae-b980-4232777b0e97">Conditional Assignment</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#88918db7-a791-4b82-a35c-76f34c01f4ab">Internal Variables</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4aa91eb2-98c9-4589-b172-bb450b5b7292">Precedence</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d54916e9-7cdd-4f52-85ed-97a3d4926bf4">Numbers</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#612ef149-b166-40d1-9ddb-4ae9eb0609e1">Zâ€™s and Xâ€™s</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f3cadec5-4104-487a-8313-dde71751a3eb">Bit Swizzling</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#58ecd7a3-acfe-4563-b161-41960cbf1afd">Delays</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#efe3b3e7-924d-49fa-b011-ff80c973f2e4">Structural Modeling</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c49ca49a-5939-465b-86eb-4c7c9036f6b8">Sequential Logic</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c573e830-b800-4ec1-a53b-788f344304af">Registers</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3b62df82-8ffd-4d16-ad99-3d923f867404">Resettable Registers</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c9a710e0-388c-4112-8db5-c41fd8ef08fa">Enabled Registers</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#b9a888c4-874c-4613-abb8-dcd2278bb2db">Multiple Registers</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f0415bd4-95df-4e0e-8034-693395d3cb4d">Latches</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#2733b3ce-c008-4cd7-8a59-0f474b21467b">More Combinational Logic</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d338282f-6008-4ada-8bdf-ada702998c35">Case Statements</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#af5167ce-1c99-44c8-bfd3-373de0c9bb09">If Statements</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#7fa68f84-ebae-48d4-89ba-fbde69516eac">Verilog <code>casez</code></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5ae9dc10-5b5f-45dc-b909-a756f1ab9079">Blocking and Nonblocking Assignments</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#e3686370-e27f-4401-a57e-79fd8b11a416">Combinational Logic</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#7e7563f8-585f-4a2b-a88c-d969eb3bc026">Sequential Logic</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#b0330048-c64b-497a-80a6-7376651f3135">Finite State Machines</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c6ae8fb6-6758-4a20-b268-1dcd7b0235d4">Moore FSM</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#985005b5-efea-4cc6-a9fa-64f454f60fde">Mealy FSM</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#2f749ab6-4807-4443-a6fc-4ebfc21b0c42">Parameterized Modules</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#85f88cff-7b70-44ef-9438-a9e0176958fd">Parameterized <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>-bit Multiplexers</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#cb565ee7-78b7-4cb4-a211-24bd0b0491d5">Parameterized <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>:<style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">2^N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> Decoder</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a39faa91-5736-40f9-a5c1-19f7f689737e">Parameterized <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>-Input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> Gate</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#647fecbb-62ff-4805-8270-568765ac3b86">Testbenches</a></div></nav><h1 id="a40a622b-256f-4156-b7e9-512403ec5dba" class="">Introduction</h1><p id="61e838db-1c1f-44b1-93c0-8e055e12d2ba" class="">Thus far we have focused on designing combinational and sequential digital circuits at the schematic level. The process of finding an efficient set of logic gates to perform a given function is labor intensive and error prone, requiring manual simplification of truth tables or Boolean equations and manual translation of finite state machines (FSMs) into gates. In the 1990â€™s, designers discovered that they were far more productive if they worked at a higher level of abstraction, specifying just the logical function and allowing a <em>computer-aided design (CAD)</em> tool to produce the optimized gates. The specifications are generally given in a <em>hardware description language (HDL)</em>. The two leading hardware description languages are <em>Verilog</em> and <em>VHDL</em>. We will focus on Verilog only.</p><h2 id="a77d63ec-cb51-4fd2-b6a4-8805fb2a467f" class="">Modules</h2><div id="9030845d-ba1d-43cc-b61c-b51b7868d125" class="column-list"><div id="075862cb-478d-4ac9-baa4-2cb7344eb4e7" style="width:50%" class="column"><p id="dbedb130-7134-43b6-9dd6-9193ad45a56a" class="">A block of hardware with inputs and outputs is called a <em>module</em>. An <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gate, a multiplexer, and a priority circuit are all examples of hardware modules. The two general styles for describing module functionality are <em>behavioral</em> and <em>structural</em>. Behavioral models describe what a module does. Structural models describe how a module is built from simpler pieces; it is an application of hierarchy. The Verilog code in the example illustrates behavioral descriptions of a module that computes the Boolean function <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mover accent="true"><mi>A</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>C</mi><mo>Ë‰</mo></mover><mo>+</mo><mi>A</mi><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>C</mi><mo>Ë‰</mo></mover><mo>+</mo><mi>A</mi><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mi>C</mi></mrow><annotation encoding="application/x-tex">Y = \bar{A}\bar{B}\bar{C}+A\bar{B}\bar{C}+A\bar{B}C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9034399999999999em;vertical-align:-0.08333em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.11110999999999999em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9034399999999999em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8201099999999999em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span><span>ï»¿</span></span>. The module is named <code>sillyfunction</code> and has three inputs <code>a</code>, <code>b</code> and <code>c</code>, and one output, <code>y</code>.</p><p id="f088f36c-6070-4f72-b8f2-a4ef82277070" class="">A Verilog module begins with the module name and a listing of the inputs and outputs. The <code>assign</code> statement describes combinational logic. <code>~</code> indicates <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>NOT</mtext></mrow><annotation encoding="application/x-tex">\text{NOT}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">NOT</span></span></span></span></span></span><span>ï»¿</span></span>, <code>&amp;</code> indicates <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> and <code>|</code> indicates <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>OR</mtext></mrow><annotation encoding="application/x-tex">\text{OR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">OR</span></span></span></span></span></span><span>ï»¿</span></span>.</p><p id="bd2bce9b-0e44-40fe-934b-9e743f904f2a" class="">Verilog signals such as the inputs and outputs are Boolean variables. They may also have floating and undefined values.  </p></div><div id="8ab863be-74f0-4051-8d47-4b1eb5fb882e" style="width:50%" class="column"><pre id="d18291ec-fa9b-4c6b-ab11-c7fded5c284a" class="code"><code>module sillyfunction (input a, b, c, 
                      output y);
  assign y = ~a &amp; ~b &amp; ~c |
              a &amp; ~b &amp; ~c |
              a &amp; ~b &amp;  c;
endmodule</code></pre></div></div><p id="249ac70c-357c-472c-b8a4-46cb5cec6d6c" class="">A module is a good application of modularity. It has a well defined interface, consisting of its inputs and outputs, and it performs a specific function. The particular way in which it is coded is unimportant to others that might use the module,by as long as it performs its function. </p><h2 id="44c00991-3fea-4dad-8ca7-ffaf6b29864d" class="">Language Origins</h2><p id="ffda12ce-87bd-4a88-a7dc-e578948ffce9" class="">Verilog was developed by Gateway Design Automation as a proprietary language for logic simulation in 1984. Gateway was acquired by Cadence in 1989 and Verilog was made an open standard in 1990 under the control of Open Verilog International. The language became an IEEE standard in 1995 (IEEE STD 1364) and was updated in 2001.</p><h2 id="86a9df6d-3e6f-4c90-9983-b9b6876cf7cb" class="">Simulation and Synthesis</h2><p id="df5a274b-c277-41e5-8d8d-9c31f893f1a4" class="">The two major purposes of HDLs are logic <em>simulation</em> and <em>synthesis</em>. During simulation, inputs are applied to a module, and the outputs are checked to verify that the module operates correctly. During synthesis, the textual description of a module is transformed into logic gates.</p><h3 id="5409f160-62a6-4050-856b-b51a194b0cfa" class="">Simulation</h3><p id="441e46e2-5f6f-4c66-b634-1c6345f79310" class="">Humans routinely make mistakes. Such errors in hardware design are called <em>bugs</em>. Eliminating bugs from a digital system is obviously important, especially when customers are paying money and lives depend on the correct operation. Testing a system in the laboratory is time-consuming. Discovering the cause of errors in the lab can be extremely difficult, because only signals routed to the chip pins can be observed. There is no way to directly observe what is happening inside a chip. Correcting errors after the system is built can be devastatingly expensive. For example, correcting a mistake in cutting-edge integrated circuits costs more than a million dollars and takes several months. Intelâ€™s famous FDIV (floating point division) bug in the Pentium processor forced the company to recall chips after they had shipped, at a total cost of $475 million. Logic simulation is essential to test a system before it is built.</p><div id="b725fc1b-2f33-45b6-86d8-0a72f70546e2" class="column-list"><div id="0d380078-f84f-49b5-802f-e051cf8b77e4" style="width:68.75%" class="column"><p id="1e90ed95-1955-401a-8440-f04016b89de7" class="">The figure shows waveforms from a simulation of the previous <code>sillyfunction</code> module demonstrating that the module works correctly. <code>y</code> is TRUE when <code>a</code>, <code>b</code> and <code>c</code> are 000, 100, or 101, as specified by the Boolean equation.</p></div><div id="2af5b21e-70cc-4363-b3bd-d8aa0b55dab4" style="width:31.250000000000007%" class="column"><figure id="f295187c-facc-4071-8642-b38e91939442" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled.png"><img style="width:1034px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled.png"/></a></figure></div></div><h3 id="d153c2f0-69bb-48df-9410-ab96d22a038e" class="">Synthesis</h3><div id="5f096f12-2b20-4b9d-b434-fc5861ed9dac" class="column-list"><div id="321d2afd-02fe-4be5-9e66-d80dd7b09d79" style="width:68.75%" class="column"><p id="0f55d2e9-e2ee-4335-b60a-2feca4483f33" class="">Logic synthesis transforms HDL code into a <em>netlist</em> describing the hardware (e.g., the logic gates and the wires connecting them). The logic synthesizer might perform optimizations to reduce the amount of hardware required. The netlist may be a text file, or it may be drawn as a schematic to help visualize the circuit. The figure shows the results of synthesizing the <code>sillyfunction</code> module. Notice how the three three-input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gates are simplified into two two-input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gates using Boolean algebra.</p><p id="5fc2ec64-646e-4ffd-bbcf-7070019b8ae4" class="">CIrcuit descriptions in HDL resemble code in a programming language. However, one must remember that the code is intended to represent hardware. Verilog is a rich language with many commands. Not all of these commands can be synthesized into hardware. For example, a command to print results on the screen during simulation does not translate into hardware. Because our primary interest is to build hardware, we will emphasize a <em>synthesizable subset</em> of the language. Specifically, we will divide HDL code into <em>synthesizable</em> modules and a <em>testbench</em>. The synthesizable modules describe the hardware. The testbench contains code to apply inputs to a module, check whether the output results are correct, and print discrepancies between expected and actual outputs. Testbench code is intended only for simulation and cannot be synthesized.</p><p id="b4e7fefe-ebb4-4e37-aa2d-59388197217c" class="">HDLs have specific ways of describing various classes of logic; these ways are called <em>idioms</em>.</p></div><div id="060b87c5-ab83-4cbf-83b0-6e6cb315cf4a" style="width:31.249999999999993%" class="column"><figure id="7037a8c1-260e-4674-820f-cbf9c063b2f1" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%201.png"><img style="width:870px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%201.png"/></a></figure></div></div><h1 id="58d690c0-e430-41f3-99bc-0917ca0e56ea" class="">Combinational Logic</h1><h2 id="c43accde-db43-41a7-ac13-c1254472e2e0" class="">Bitwise Operators</h2><div id="dc8c6754-0e1a-4e6b-bbd2-df3969f1f8ba" class="column-list"><div id="1ece84f3-9f0d-4ddd-91de-69ac96bcf0db" style="width:50%" class="column"><p id="3aa10af8-073f-43e1-9fc6-d69d192a2ed6" class=""><em>Bitwise</em> operators act on single-bit signals or on multi-bit busses. For example, the <code>inv</code> module shown describes four inverters connected to 4-bit busses.</p><p id="9a303b09-29d7-404b-8d74-5ceb7a6ece4e" class=""><code>a[3:0]</code> represents a 4-bit bus. The bits, from most significant to least significant, are <code>a[3]</code>, <code>a[2]</code>, <code>a[1]</code>, <code>a[0]</code>. This is called <em>little-endian</em> order because the least significant byte has the smallest bit number. </p><p id="55f264a5-5bba-4df4-ba1e-d50f63a6244e" class="">We could also have used <code>a[0:3]</code>, in which case the bits, from most significant to least significant, would be <code>a[0]</code>, <code>a[1]</code>, <code>a[2]</code> and <code>a[3]</code>. This is called <em>big-endian</em> order.</p><p id="6c879715-9b94-456e-88c9-2a58314b0f70" class="">The endianness of a bus is purely arbitrary. Indeed, endianness is also irrelevant to this example, because a bank of inverters doesnâ€™t care what the order of the bits are. Endianness matters only for operators, such as addition, where the sum of one column carries over into the next. Either ordering is acceptable, as long as it is used consistently. We will consistently use the little-endian order, <code>[N-1:0]</code> in Verilog for an <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>-bit bus.</p></div><div id="305c5eec-dca7-4183-81a5-5ea486e3192b" style="width:50%" class="column"><pre id="0f125a12-9790-4da1-897f-8f8b38276531" class="code"><code>module inv (input  [3:0] a,
            output [3:0] y);
  assign y = ~a;
endmodule</code></pre><figure id="bc12953e-b6e4-4a87-a250-2b86b60d7097" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%202.png"><img style="width:1210px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%202.png"/></a></figure></div></div><div id="dc685437-c200-4c08-9534-1bbb6b8d06b7" class="column-list"><div id="9bbaadf2-b407-4fde-a759-3d904e9beedf" style="width:50%" class="column"><p id="554cd745-7a07-4863-a1f6-54f83df2dafc" class="">The <code>gates</code> module in this example demonstrates bitwise operations acting on 4-bit busses for other basic logic functions. </p><p id="7b447aab-4777-48f8-a800-be14540259bb" class=""><code>~</code>, <code>^</code>, and <code>|</code> are examples of Verilog <em>operators</em>, whereas <code>a</code>, <code>b</code>, and <code>y1</code> are <em>operands</em>. A combination of operators and operands, such as <code>a &amp; b</code>, or <code>~(a | b)</code>, is called an <em>expression</em>. A complete command such as <code>assign y4 = ~(a &amp; b);</code> is called a <em>statement</em>. </p><p id="caaa3271-22f4-4708-816c-98bee3a20b87" class=""><code>assign out = in1 op in2;</code> is called a <em>continuous assignment statement</em>. Continuous assignment statements end with a semicolon. Anytime the inputs on the right side of the <code>=</code> in a continuous assignment statement change, the output on the left side is recomputed. Thus, continuous assignment statements describe combinational logic.</p></div><div id="358f99d6-522f-4dc8-9021-c921fde15ef9" style="width:50%" class="column"><pre id="9076039f-6029-4b43-8183-f1f3aeb6edc1" class="code"><code>module gates (input  [3:0] a, b,
              output [3:0] y1, y2,
                           y3, y4, y5);
  assign y1 = a &amp; b; // AND
  assign y2 = a | b; // OR
  assign y3 = a ^ b; // XOR
  assign y4 = ~(a &amp; b); // NAND
  assign y5 = ~(a | b); // NOR
endmodule</code></pre><figure id="3a60efee-8c0e-4720-afa3-8a2e5a1b264c" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%203.png"><img style="width:1536px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%203.png"/></a></figure></div></div><h2 id="e10c2ad4-4fea-43cb-a4b3-b6a6cd44113e" class="">Comments and White Space</h2><p id="599e814c-b9b3-49b3-9265-dad48820bd80" class="">The <code>gates</code> example showed how to format comments. Verilog is not picky about the use of white space. Nevertheless, proper indenting and use of blank lines is helpful to make nontrivial designs readable. Be consistent in your use of capitalization and underscores in signal and module names. Module and signal names must not begin with a digit.</p><p id="573b5cc6-8a3c-4d28-943f-a5b453112418" class="">Verilog comments are just like those in C or Java. Comments beginning with <code>/*</code> continue, possibly across multiple lines, to the next <code>*/</code>. Comments beginning with <code>//</code> continue to the end of the line.</p><p id="934aafca-7bff-4857-aca6-964137f48aea" class="">Verilog is case-sensitive. <code>y1</code> and <code>Y1</code> are different signals in Verilog.</p><h2 id="4c2b7e25-4bdc-4a43-9db2-9d2c204d42ef" class="">Reduction Operators</h2><div id="8989a3c8-294b-46ac-a174-8a966d857da6" class="column-list"><div id="cbd9912e-1e18-4326-9e18-38e5bac605d9" style="width:50%" class="column"><p id="a82a211a-408e-4ae3-8e47-c7a48941759a" class="">Reduction operators imply a multiple-input gate acting on a single bus. The example describes an eight-input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gate with inputs <code>a_7, a_6,...,a_0</code>. </p><p id="dac84c4c-7677-48bf-80c3-bb3f3f9826db" class="">As one would expect, <code>|</code>, <code>^</code>, <code>~&amp;</code>, and <code>~|</code> reduction operators are available for <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>OR</mtext></mrow><annotation encoding="application/x-tex">\text{OR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">OR</span></span></span></span></span></span><span>ï»¿</span></span>, <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>XOR</mtext></mrow><annotation encoding="application/x-tex">\text{XOR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">XOR</span></span></span></span></span></span><span>ï»¿</span></span>, <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>NAND</mtext></mrow><annotation encoding="application/x-tex">\text{NAND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">NAND</span></span></span></span></span></span><span>ï»¿</span></span>, and <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>NOR</mtext></mrow><annotation encoding="application/x-tex">\text{NOR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">NOR</span></span></span></span></span></span><span>ï»¿</span></span> as well. Recall that a multi-input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>XOR</mtext></mrow><annotation encoding="application/x-tex">\text{XOR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">XOR</span></span></span></span></span></span><span>ï»¿</span></span> performs parity, returning TRUE if an odd number of inputs are TRUE.</p><p id="951d696f-9c4c-4d33-b4c0-9c291cb5fc9e" class="">
</p></div><div id="3b836a8e-40f2-4e36-9ad4-480fcf4b42c2" style="width:50%" class="column"><pre id="2f67b002-cb90-49b2-9cda-f192c889e2f5" class="code"><code>module and8 (input  [7:0] a,
             output       y);
  assign y = &amp;a;
  // &amp;a is much easier to write than
  // assign y = a[7] &amp; a[6] &amp; a[5] &amp; a[4] &amp;
  //            a[3] &amp; a[2] &amp; a[1] &amp; a[0];
endmodule</code></pre><figure id="e8cce368-d600-4151-9438-b9f9261b4eec" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%204.png"><img style="width:1238px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%204.png"/></a></figure></div></div><h2 id="da290292-a67d-4dae-b980-4232777b0e97" class="">Conditional Assignment</h2><div id="49a372a9-bedf-4fed-9d34-f78683259b0b" class="column-list"><div id="c0f6e777-324d-4a7e-94bf-a24d893eee3a" style="width:50%" class="column"><p id="966e6da3-14d5-4968-ba07-064c296d876d" class=""><em>Conditional assignments</em> select the output from among alternatives based on an input called the <em>condition</em>. The example illustrates a 2:1 multiplexer using conditional assignment.</p><p id="1a53c097-2275-4e18-a747-197f6eb9b37e" class="">The <em>conditional operator</em> <code>?:</code> chooses, based on a first expression, between a second and third expression. The first expression is called the <em>condition</em>. If the condition is 1, the operator chooses the second expression. If the condition is 0, the operator chooses the third expression.</p><p id="850d936b-df6d-4d08-bce3-c9fe38fc27f1" class=""><code>?:</code> is especially useful for describing a multiplexer because, based on the first input, it selects between two others. The example code demonstrates the idiom for a 2:1 multiplexer with 4-bit inputs and outputs using the conditional operator.</p></div><div id="e0f8928c-4aa3-4c60-a015-37b1df4af78d" style="width:50%" class="column"><pre id="eb38474e-cbdf-4fb6-b5cd-8c785b27252a" class="code"><code>module mux2 (input  [3:0] d0, d1,
             input        s,
             output [3:0] y);
  assign y = s ? d1 : d0;
endmodule</code></pre><figure id="1fb075ed-a974-4cab-91b1-71b6132fb965" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%205.png"><img style="width:1176px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%205.png"/></a></figure></div></div><div id="c4a03272-d20d-4ef6-90d6-f586088aa19c" class="column-list"><div id="f6a688ac-6080-4f8e-bdb9-080660460c7d" style="width:50%" class="column"><p id="13d0074a-2991-4a2d-9a54-461b1a0caea5" class="">This example shows a 4:1 multiplexer based on the same principle as the 2:1 multiplexer in the previous example. </p><p id="c588a998-40ac-4b43-8500-5ecc70ec56d2" class="">The synthesized circuitâ€™s multiplexer in the schematic has multiple data and one-hot enable inputs. When one of the enables is asserted, the associated data is passed to the output.</p><p id="8840328b-108f-4e29-b248-14ccc125876c" class="">if <code>s[1]</code> is 1, then the multiplexer chooses the first expression, <code>(s[0] ? d3 : d2)</code>. This expression in turn chooses either <code>d3</code> or <code>d2</code> based on <code>s[0]</code> (<code>y = d3</code> if <code>s[0]</code> is 1 and <code>d2</code> if <code>s[0]</code> is 0). If <code>s[1]</code> is 0, then the multiplexer similarly chooses the second expression, which gives either <code>d1</code> or <code>d0</code> based on <code>s[0]</code>.</p></div><div id="945fc7c8-9bf9-48ce-ba34-af8debb88f43" style="width:50%" class="column"><pre id="db4c8f75-0fd4-49a3-9099-ecc908ca5fe0" class="code"><code>module mux4 (input  [3:0] d0, d1, d2, d3,
             input  [1:0] s,
             output [3:0] y);
  assign y = s[1] ? (s[0] ? d3 : d2)
                  : (s[0] ? d1 : d0);
endmodule</code></pre><figure id="3973a463-a175-4e3e-9252-5abb5550d061" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%206.png"><img style="width:672px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%206.png"/></a></figure></div></div><h2 id="88918db7-a791-4b82-a35c-76f34c01f4ab" class="">Internal Variables</h2><p id="73a4414c-3f99-4808-8d32-1c3a4418d999" class="">Often it is convenient to break a complex function into intermediate steps. </p><div id="20ef286b-a255-48be-b218-58faa19bf364" class="column-list"><div id="a5ce3a23-e038-4a31-9caf-0e9ca12ca0d2" style="width:50%" class="column"><p id="3e87354a-0a14-4ed8-bc83-ec458246b2d3" class="">A full adder for example is a circuit with three inputs and two outputs defined by the following equations: </p><figure id="0f1349cc-1f31-4201-98c9-2f1e51396e35" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.2500em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>S</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>A</mi><mo>âŠ•</mo><mi>B</mi><mo>âŠ•</mo><msub><mi>C</mi><mrow><mover accent="true"><mtext>Ä±</mtext><mo>ËŠ</mo></mover><mtext>n</mtext></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>C</mi><mtext>out</mtext></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>A</mi><mi>B</mi><mo>+</mo><mi>A</mi><msub><mi>C</mi><mtext>in</mtext></msub><mo>+</mo><mi>B</mi><msub><mi>C</mi><mtext>in</mtext></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}
S &amp; = A \oplus B \oplus C_{\text{Ã­n}} \\
C_{\text{out}} &amp; = AB + AC_{\text{in}} + BC_{\text{in}}
\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000000000000004em;vertical-align:-1.2500000000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">out</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord latin_fallback mtight">Ä±</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord mtight">ËŠ</span></span></span></span></span></span></span><span class="mord mtight">n</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">in</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">in</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span></div></figure><p id="1b25da81-5235-4c93-9ffe-20b5433ae79f" class="">If we define intermediate signals, <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></span><span>ï»¿</span></span> and <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span></span><span>ï»¿</span></span>,</p><figure id="833ec9e6-f8a0-4cb8-b941-1527d1ab2120" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.2500em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>P</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>A</mi><mo>âŠ•</mo><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>G</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>A</mi><mi>B</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}
P &amp;= A \oplus B \\
G &amp;= AB
\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000000000000004em;vertical-align:-1.2500000000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">G</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span></div></figure><p id="bb535725-9f85-4d4e-821a-f5e7bfd680be" class="">we can rewrite the full adder as follows: </p><figure id="e44568b5-7316-4ce9-9ecc-f3f4f8d05d88" class="equation"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.2500em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>S</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>P</mi><mo>âŠ•</mo><msub><mi>C</mi><mtext>in</mtext></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>C</mi><mtext>out</mtext></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>G</mi><mo>+</mo><mi>P</mi><msub><mi>C</mi><mtext>in</mtext></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}
S &amp;= P \oplus C_{\text{in}} \\
C_{\text{out}} &amp;= G + PC_{\text{in}}
\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000000000000004em;vertical-align:-1.2500000000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">out</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">in</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">in</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span></div></figure><p id="4c8639d4-88ec-4776-8ccc-253411f2d32e" class=""><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></span><span>ï»¿</span></span> and <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span></span><span>ï»¿</span></span> are called <em>internal variables</em>, because they are neither inputs nor outputs but are used only internal to the module. The example shows how they are used in HDLs.</p><p id="811e2978-d790-47be-a5d6-458bcb67f834" class="">HDL assignment statements take place concurrently. In an HDL, the order does not matter. Like hardware, HDL assignment statements are evaluated any time the inputs, signals on the right hand side, change their value, regardless of the order in which the assignment statements appear in a module.</p><p id="14c934eb-f88a-4eeb-a11c-ce90592d96f6" class="">In Verilog, <em>wires</em> are used to represent internal variables whose values are defined by <code>assign</code> statements such as <code>assign p = a ^ b;</code> Wires technically have to be declared only for multibit busses, but it is good practice to include them for all internal variables; their declaration could have been omitted in this example.</p></div><div id="6c75a33c-1ba1-402f-bca8-9647e67ad0ca" style="width:50%" class="column"><pre id="125fa6ee-980f-4307-b738-8a49fdb4c4ff" class="code"><code>module fulladder (input  a, b, cin,
                  output s, cout);
  wire p, g;
  assign p  a  b;
  assign g  a &amp; b;
  assign s  p  cin;
  assign cout  g | (p &amp; cin);
endmodule</code></pre><figure id="a5435a04-e561-4417-9151-d88aa95d66f4" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%207.png"><img style="width:1632px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%207.png"/></a></figure></div></div><h2 id="4aa91eb2-98c9-4589-b172-bb450b5b7292" class="">Precedence</h2><figure id="7d134457-a2d0-47c6-a307-1b7051849889" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%208.png"><img style="width:480px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%208.png"/></a></figure><h2 id="d54916e9-7cdd-4f52-85ed-97a3d4926bf4" class="">Numbers</h2><div id="91920cdd-d685-4b56-8d24-211b279c6507" class="column-list"><div id="1460707d-a84f-4322-9308-50291ec2844e" style="width:62.5%" class="column"><p id="2383cfa4-89ea-4e67-87c0-bb8616877988" class="">Numbers can be specified in a variety of bases. Underscores in numbers are ignored and can be helpful in breaking long numbers into more readable chunks.</p><p id="34d2276b-04e2-4399-b156-a8d94790d645" class="">Verilog numbers can specify their base and size (the number of bits used to represent them). The format for declaring constants is <code>N&#x27;Bvalue</code>, where <code>N</code> is the size in bits, <code>B</code> is the base, and <code>value</code> gives the value. For example <code>9&#x27;h25</code> indicates a 9-bit number with a value of <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><msub><mn>5</mn><mn>16</mn></msub><mo>=</mo><mn>3</mn><msub><mn>7</mn><mn>10</mn></msub><mo>=</mo><mn>00010010</mn><msub><mn>1</mn><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">25_{16} = 37_{10} = 000100101_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">2</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">3</span><span class="mord"><span class="mord">7</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">00010010</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span>. Verilog supports <code>&#x27;b</code> for binary, <code>&#x27;o</code> for octal, <code>&#x27;d</code> for decimal and <code>&#x27;h</code> for hexadecimal. If the base is omitted, the base defaults to decimal.</p><p id="a438347e-91a0-483d-9384-b6fae6bf0fc6" class="">If the size is not given, the number is assumed to have as many bits as the expression in which it is being used. Zeros are automatically padded on the front of the number to bring it up to full size. For example, if <code>w</code> is a 6-bit bus, <code>assign w = &#x27;b11</code> gives <code>w</code> the value 000011. It is better practice to explicitly give the size.</p></div><div id="dbfd4ac8-552c-474f-8aa3-d34adf52d304" style="width:37.5%" class="column"><figure id="6775e3ab-7ae0-4592-8ddf-54381e45c0ad" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%209.png"><img style="width:1152px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%209.png"/></a></figure></div></div><h2 id="612ef149-b166-40d1-9ddb-4ae9eb0609e1" class="">Zâ€™s and Xâ€™s</h2><div id="550452a8-7ecc-4fdd-a0d4-eaf4bff6a74d" class="column-list"><div id="21cf07f7-cfad-4475-882c-bf618d65d53e" style="width:50%" class="column"><p id="49192e6a-841d-4f55-8af3-a94adc61d49f" class="">HDLs use <code>z</code> to indicate a floating value. <code>z</code> is particularly useful for describing a tristate buffer, whose output floats when the enable is 0. The example shows the idiom for a tristate buffer. If the buffer is enabled, the output is the same as the input. If the buffer is disabled, the output is assigned a floating value. </p></div><div id="61544709-899f-45bb-89a5-c59925381f86" style="width:50%" class="column"><pre id="8ed08f41-310c-42c6-bdcf-d4353a511d33" class="code"><code>module tristate (input  [3:0] a,
                 input        en,
                 output [3:0] y),
  assign y = en ? a : 4&#x27;bz;
endmodule</code></pre><figure id="5cd1f77d-f785-4999-9bbd-2e8f88a5b097" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2010.png"><img style="width:870px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2010.png"/></a></figure></div></div><div id="1a6c9582-4af5-41d2-b341-3913d9ccccc1" class="column-list"><div id="5df793f5-6e05-47ee-8832-daed3c8df8a6" style="width:68.75%" class="column"><p id="0c6cb586-8173-4e1f-bb2c-146d505d088c" class="">Similarly, HDLs use <code>x</code> to indicate an invalid logic level. If a bus is simultaneously driven to 0 and 1 by two enabled tristate buffers (or other gates), the result is <code>x</code>, indicating contention. If all the tristate buffers driving a bus are simultaneously OFF, the bus will float, indicated by <code>z</code>. </p><p id="21ed2273-8519-4355-877e-92a278f6b6c2" class="">At the start of simulation, state nodes such as flip-flop outputs are initialized to an unknown state. This is helpful to track errors caused by forgetting to reset a flip-flop before its output is used.</p><p id="b36a129f-a71a-486b-9ab6-4e4e14cb4785" class="">If a gate receives a floating input, it may produce an <code>x</code> output when it canâ€™t determine the correct output value. Similarly, if it receives an illegal or uninitialized input, it may produce an <code>x</code> output. The example shows how Verilog combines these different signal values in logic gates.</p><p id="1f47f5bd-bb6d-4a2d-a4e2-9f97c7c67b4a" class="">Verilog signal values are <code>0</code>, <code>1</code>, <code>z</code> and <code>x</code>. Verilog constants starting with <code>z</code> or <code>x</code> are padded with leading <code>z</code>&#x27;s or <code>x</code>&#x27;s (instead of 0â€™s) to reach their full length when necessary.</p><p id="3f49e903-fbff-4ce9-8138-2eea4d875401" class="">The table shows a truth table for an <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gate using all four possible signal values. Note that the gate can sometimes determine the output despite some inputs being unknown. For example <code>0 &amp; z</code> returns <code>0</code> because the output of an <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gate is always 0 if either input is 0. Otherwise, floating or invalid inputs cause invalid outputs.</p><p id="ba2e4b4d-a697-4bf6-acc3-38ee52aa0631" class="">Seeing <code>x</code> values in a simulation is almost always an indication of a bug or bad coding practice. In the synthesized circuit, this corresponds to a floating gate input, uninitialized state, or contention. The <code>x</code> may be interpreted randomly by the circuit as 0 or 1, leading to unpredictable behavior.</p></div><div id="fd7bab6c-9cbd-4140-8ab4-d31096f1f4fc" style="width:31.250000000000007%" class="column"><figure id="d60327fa-472f-4057-8ffe-f1a13adfd7b0" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2011.png"><img style="width:801px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2011.png"/></a></figure></div></div><h2 id="f3cadec5-4104-487a-8313-dde71751a3eb" class="">Bit Swizzling</h2><div id="5495ef07-9c33-4620-8fde-bafa12e69ec9" class="column-list"><div id="b899a2f8-9390-4421-b2fd-6dc09652f9e3" style="width:50%" class="column"><p id="32086b85-9112-42f5-88d7-e6a7868e929a" class="">Often it is necessary to operate on a subset of a bus or to concatenate (join together) signals to form busses. These operations are collectively known as <em>bit swizzling</em>. In the example, <code>y</code> is given the 9-bit value <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>2</mn></msub><msub><mi>c</mi><mn>1</mn></msub><msub><mi>d</mi><mn>0</mn></msub><msub><mi>d</mi><mn>0</mn></msub><msub><mi>d</mi><mn>0</mn></msub><msub><mi>c</mi><mn>0</mn></msub><mn>101</mn></mrow><annotation encoding="application/x-tex">c_2c_1d_0d_0d_0c_0101</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">101</span></span></span></span></span><span>ï»¿</span></span> using bit swizzling operations.</p><p id="37d7a7fb-e247-4087-ae88-530aa99b3c5d" class="">The <code>{}</code> operator is used to concatenate busses. <code>{3{d[0]}}</code> indicates three copies of <code>d[0]</code>.</p><p id="6ed1f0c3-3157-47b9-b413-a21037d70234" class="">donâ€™t confuse the 3-bit binary constant <code>3&#x27;b101</code> with a bus named <code>b</code>. Note that it was critical to specify the length of 3 bits in the constant; otherwise, it would have had an unknown number of leading zeros that might appear in the middle of <code>y</code>.</p><p id="0a13de88-f197-4ae8-89a8-e3916f13ae56" class="">if <code>y</code> were wider than 9 bits, zeros would be placed in the most significant bits.</p></div><div id="b31a5f62-9c63-43b4-8181-50af643591fa" style="width:50%" class="column"><pre id="1595a998-0987-49ff-abd6-c2b6b4029adf" class="code"><code>assign y = {c[2:1], {3{d[0]}}, c[0], 3&#x27;b101};</code></pre></div></div><h2 id="58ecd7a3-acfe-4563-b161-41960cbf1afd" class="">Delays</h2><p id="c59c40ec-c079-4056-b4da-81bccefab7b2" class="">HDL statements may be associated with delays specified in arbitrary units. They are helpful during simulation to predict how fast a circuit will work (if one specify meaningful delays) and also for debugging purposes to understand cause and effect (deducing the source of a bad output is tricky if all signals change simultaneously in the simulation results). These delays are ignored during synthesis; the delay of a gate produced by the synthesizer depends on its <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>p</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{pd}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9011879999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> and <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>c</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{cd}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> specifications, not on numbers in HDL code.</p><div id="0c2dbd8f-a42f-4019-811f-ea3c4822fbdb" class="column-list"><div id="3b026501-15cc-4d0b-b500-550d218ca744" style="width:50%" class="column"><p id="536f1617-4bcc-4e58-afe4-48a63caacb86" class="">The example adds delays to the original function from the first example, <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mover accent="true"><mi>A</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>C</mi><mo>Ë‰</mo></mover><mo>+</mo><mi>A</mi><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>C</mi><mo>Ë‰</mo></mover><mo>+</mo><mi>A</mi><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mi>C</mi></mrow><annotation encoding="application/x-tex">Y = \bar{A}\bar{B}\bar{C}+A\bar{B}\bar{C}+A\bar{B}C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9034399999999999em;vertical-align:-0.08333em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.11110999999999999em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9034399999999999em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8201099999999999em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span><span>ï»¿</span></span>. It assumes that inverters have a delay of 1 ns, three-input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gates have a delay of 2 ns, and three-input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>OR</mtext></mrow><annotation encoding="application/x-tex">\text{OR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">OR</span></span></span></span></span></span><span>ï»¿</span></span> gates have a delay of 4 ns. The figure shows the simulation waveforms, with <code>y</code> lagging 7 ns after the inputs. Note that <code>y</code> is initially unknown at the beginning of a simulation.</p><p id="1bc00ce6-d984-42fb-9d7c-9c24b6b9cdd5" class="">Verilog files can include a timescale directive that indicates the value of each time unit. The statement is of the form <code>&#x27;timescale unit/precision</code>. In this file, each unit is 1 ns, and the simulation has 1 ps precision. If no timescale directive is given in the file, a default unit and precision (usually 1 ns for both) is used. In Verilog, a <code>#</code> symbol is used to indicate the number of units of delay. It can be placed in <code>assign</code> statements, as well as non-blocking (<code>&lt;=</code>) and blocking (<code>=</code>) assignments, which will be discussed.</p></div><div id="d8087421-eff6-419b-bf90-6860821217bf" style="width:50%" class="column"><pre id="a7d17f79-497a-4563-9a22-02e55ccc2ed9" class="code"><code>â€˜timescale 1ns/1ps

module example (input  a, b, c,
                output y);
  wire ab, bb, cb, n1, n2, n3;
  assign #1 {ab, bb, cb} = ~{a, b, c};
  assign #2 n1 = ab &amp; bb &amp; cb;
  assign #2 n2 = a  &amp; bb &amp; cb;
  assign #2 n3 = a  &amp; bb &amp; c;
  assign #4 y = n1 | n2 | n3;
endmodule</code></pre><figure id="036af2d6-bcb1-4334-b174-0f51b288f42d" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2012.png"><img style="width:1904px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2012.png"/></a></figure></div></div><h1 id="efe3b3e7-924d-49fa-b011-ff80c973f2e4" class="">Structural Modeling</h1><p id="eb4196da-e975-4e49-8874-55949ea66d58" class="">The previous section discussed <em>behavioral</em> modeling, describing a module in terms of the relationships between inputs and outputs. This section examines <em>structural</em> modeling, describing a module in terms of how it is composed of simple modules.</p><div id="6935bba4-63eb-44b7-be1d-d3a5f7482305" class="column-list"><div id="d424899f-bada-4a0e-a6a4-44bdd1be19f1" style="width:50%" class="column"><p id="3ef1062d-4cc2-4450-b1e6-3876b565186d" class="">This example shows how to assemble a 4.1 multiplexer from three 2:1 multiplexers. Each copy of the 2:1 multiplexer is called an <em>instance</em>. Multiple instances of the same module are distinguished by distinct names, in this case <code>lowmux</code>, <code>highmux</code> and <code>finalmux</code>. This is an example of regularity, in which the 2:1 multiplexer is reused many times. </p><p id="d3b61844-89cb-4683-b6ed-273e0d176de0" class="">The <code>mux2</code> module must be defined elsewhere in the Verilog source.</p></div><div id="2286082e-b95e-4244-9abf-7bd1d779dcfa" style="width:50%" class="column"><pre id="520290a6-225f-4d7b-9718-f0fdbb23606f" class="code"><code>module mux4 (input  [3:0] d0, d1, d2, d3,
             input  [1:0] s,
             output [3:0] y);
  wire [3:0] low, high,
  mux2 lowmux (d0, d1, s[0], low);
  mux2 highmux (d2, d3, s[0], high);
  mux2 finalmux (low, high, s[1], y);
endmodule</code></pre><figure id="ccadd3be-b00c-46fd-b3d7-91e924213097" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2013.png"><img style="width:816px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2013.png"/></a></figure></div></div><div id="6c4e2c04-0e2f-4355-a383-d46926f8a317" class="column-list"><div id="d42d224e-05ad-4767-9beb-7d7c5d82b6a9" style="width:50%" class="column"><p id="59a413c8-4c58-4666-b98f-427803747449" class="">This example uses structural modeling to construct a 2:1 multiplexer from a pair of tristate buffers.</p><p id="e9d629bf-52bf-4bf1-933c-9c6b66b34936" class="">In Verilog, expressions such as <code>~s</code> are permitted in the port list for an instance. Arbitrarily complicated expressions are legal but discouraged because they make the code difficult to read.</p></div><div id="4fbd7f03-12b2-4d53-a4c5-ba6b88307485" style="width:50%" class="column"><pre id="920e8e5c-ecce-434d-9f77-7922f835ddbd" class="code"><code>module mux2 (input  [3.0] d0, d1,
             input        s,
						 output [3:0] y);
  tristate t0 (d0, ~s, y);
  tristate t1 (d1, s, y);
endmodule</code></pre><figure id="5aa1c7ee-90a1-41ed-81f7-275ffaf59636" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2014.png"><img style="width:720px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2014.png"/></a></figure></div></div><div id="11e537ce-6130-45fb-98da-08551669144d" class="column-list"><div id="dbfd8c3a-aa62-4bde-a69d-ff38f02e546e" style="width:50%" class="column"><p id="4a55cc10-baae-43fa-9dfe-95846c97bfa1" class="">This example shows how modules can access part of a bus. An 8-bit wide 2:1 multiplexer is built using two of the 4-bit 2:1 multiplexers already defined, operating on the low and high nibbles of the byte. </p></div><div id="55e0366f-276b-4951-8796-0c0bb380ed80" style="width:50%" class="column"><pre id="bc52146f-0fbc-425f-9e52-020583a48a22" class="code"><code>module mux2_8 (input  [7:0] d0, d1,
               input        s,
               output [7:0] y);
  mux2 lsbmux (d0[3:0], d1[3:0], s, y[3:0]);
  mux2 msbmux (d0[7:4], d1[7:4], s, y[7:4]);
endmodule</code></pre><figure id="ecfb2147-fe61-40a3-81eb-3b9d01a81681" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2015.png"><img style="width:768px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2015.png"/></a></figure></div></div><p id="e9f14972-06a7-4544-ac29-21b745544353" class="">In general, complex systems are designed <em>hierarchically</em>. The overall system is described structurally by instantiating its major components. Each of these components is described structurally from its building blocks, and so forth recursively until the pieces are simple enough to describe behaviorally. It is good style to avoud (or at least to minimize) mixing structural and behavioral descriptions within a single module.</p><h1 id="c49ca49a-5939-465b-86eb-4c7c9036f6b8" class="">Sequential Logic</h1><h2 id="c573e830-b800-4ec1-a53b-788f344304af" class="">Registers</h2><div id="da973d81-a29c-4fd4-a5b9-8eb801c69c61" class="column-list"><div id="94f43a90-d9ff-4b4a-85d5-0558317a8522" style="width:50%" class="column"><p id="669103fc-22cd-4b75-9929-b2eb6a45e016" class="">The vast majority of modern commercial systems are built with registers using positive edge-triggered D flip-flops. The example shows the idiom for such flip-flops.</p><p id="3e53f82c-b030-4166-a165-0fd5364b1868" class="">In Verilog <code>always</code> statements, signals keep their old value until an event in the sensitivity list takes place that explicitly causes them to change. Hence, such code, with appropriate sensitivity lists, can be used to describe sequential circuits with memory. For example, the flip-flop includes only <code>clk</code> in the sensitivity list. It remembers its old value of <code>q</code> until the next rising edge of the <code>clk</code>, even if <code>d</code> changes in the interim.</p><p id="e0db9c9b-1392-4013-b830-7d89ba1aca3a" class="">In contrast, Verilog continuous assignment statements (<code>assign</code>) are reevaluated anytime any of the inputs on the right hand side changes. Therefore, such code necessarily describes combinational logic.</p><p id="8f673d06-94dc-450c-8bd8-8e6d720fc15c" class="">A Verilog <code>always</code> statement is written in the form </p><pre id="93d369c0-6fb1-4cfb-a63e-c6d7758312c1" class="code"><code>always @ (sensitivity list)
	statement;</code></pre><p id="0094b7b8-387a-4864-8252-12cad312c1a1" class="">The <code>statement</code> is executed only when the event specified in the <code>sensitivity list</code> occurs. In this example, the statement is <code>q &lt;= d</code>. Hence, the flip-flop copies <code>d</code> to <code>q</code> on the positive edge of the clock and otherwise remembers the old state of <code>q</code>.</p><p id="b233666a-8331-42d6-a851-5c28d32dc0f6" class=""><code>&lt;=</code> is called a <em>nonblocking assignment</em>. Think of it as a regular <code>=</code> for the moment, weâ€™ll discuss the details later. Note that <code>&lt;=</code> is used instead of <code>assign</code> inside an <code>always</code> statement.</p><p id="d1f09512-68fe-4b78-bf9e-d3adde63c963" class="">All signals on the left hand side of <code>&lt;=</code> or <code>=</code> in an <code>always</code> statement must be declared as <code>reg</code>. In this example, <code>q</code> is both an output and a <code>reg</code>, so it is declared as <code>output reg [3:0] q</code>. Declaring a signal as <code>reg</code> does not mean the signal is actually the output of a register. All it means is that the signal appears on the left hand side of an assignment in an <code>always</code> statement. </p></div><div id="0bdbf2c9-fdbb-47e7-8a72-ee92c9cb9e28" style="width:50%" class="column"><pre id="8183b777-ed64-4fe4-a28d-a1460f6c1f58" class="code"><code>module flop (input            clk,
             input      [3:0] d,
             output reg [3:0] q);
  always @ (posedge clk)
    q &lt;= d;
endmodule</code></pre><figure id="28fff115-e0bf-4a49-9a62-60eabc87cbe0" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2016.png"><img style="width:1202px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2016.png"/></a></figure></div></div><h2 id="3b62df82-8ffd-4d16-ad99-3d923f867404" class="">Resettable Registers</h2><div id="9b08c3c3-0524-4ae8-a8e7-4222259f4905" class="column-list"><div id="59df050e-71d4-4d5e-98cc-b9a4731c3c58" style="width:50%" class="column"><p id="3a06dd75-b8c7-4eb4-ac74-f350d7216d99" class="">When simulation begins or power is first applied to a circuit, the output of a flop or register is unknown. This is indicated with <code>x</code> in Verilog. Generally, it is good practice to use resettable registers so that on powerup one can put the system into a known state. The reset may be either asynchronous or synchronous. Recall that asynchronous reset occurs immediately, whereas synchronous reset clears the output only on the next rising edge of the clock. The example demonstrates the idioms for flip-flops with asynchronous and synchronous resets. Note that distinguishing synchronous and asynchronous reset in a schematic can be difficult. Our schematics place asynchronous reset at the bottom of a flip-flop and synchronous reset on the left side. </p><p id="a220175d-ab14-454c-8ae1-f7471870476a" class="">Multiple signals in an <code>always</code> statement sensitivity list are separated with a comma or the word <code>or</code>. Notice that <code>posedge reset</code> is in the sensitivity list on the asynchronously resettable flop, but not on the synchronously resettable flop. Thus, the asynchronously resettable flop immediately responds to a rising edge on <code>reset</code>, but the synchronously resettable flop responds to <code>reset</code> only on the rising edge of the clock.</p></div><div id="c9884885-c230-44f0-a15e-f026f350efa4" style="width:50%" class="column"><pre id="54220c44-9b7b-4cae-ad80-5c17421b4558" class="code"><code>module flopr (input            clk,
              input            reset,
              input      [3:0] d,
              output reg [3:0] q);
	// asynchronous reset
  always @ (posedge clk, posedge reset)
    if (reset) q &lt;= 4&#x27;b0;
    else       q &lt;= d:
endmodule

module flopr (input            clk,
              input            reset,
              input      [3:0] d,
              output reg [3:0] q);
  // synchronous reset
  always @ (posedge clk)
    if (reset) q &lt;= 4&#x27;b0;
    else       q &lt;= d:
endmodule</code></pre><figure id="351f8c00-22c2-4372-b9b5-f1b64492bfce" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2017.png"><img style="width:816px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2017.png"/></a></figure></div></div><h2 id="c9a710e0-388c-4112-8db5-c41fd8ef08fa" class="">Enabled Registers</h2><div id="29893ff8-06dd-418b-bd3d-6fb86d8e6ae9" class="column-list"><div id="cbb7f59a-2869-4a0a-ae43-3a55ff313f7e" style="width:50%" class="column"><p id="cc71b2be-c656-4341-a444-0e63f0b3e514" class="">Enabled registers respond to the clock only when the enable is asserted. The example shows an asynchronously resettable enabled register that retains its old value if both <code>reset</code> and <code>en</code> are FALSE. </p></div><div id="91552a66-fa01-4cff-8b6d-86f9e28a3a40" style="width:50%" class="column"><pre id="f1e694d7-8762-4fdd-bcc5-884de9714e5a" class="code"><code>module flopenr (input            clk,
                input            reset,
                input            en,
                input      [3:0] d,
                output reg [3:0] q);
  // asynchronous reset
  always @ (posedge clk, posedge reset)
    if (reset) q &lt;= 4â€™b0;
    else if (en) q &lt;= d;
endmodule</code></pre><figure id="158bda7c-d9ed-4b7e-a55a-b539d38ea0f4" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2018.png"><img style="width:816px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2018.png"/></a></figure></div></div><h2 id="b9a888c4-874c-4613-abb8-dcd2278bb2db" class="">Multiple Registers</h2><div id="69d761aa-fa41-4dcf-bf8d-cbb83ef35e30" class="column-list"><div id="9d9f9f54-80f0-478b-ba86-526fe9e69b58" style="width:81.25%" class="column"><p id="087e80b7-0e90-4987-81c5-9ae7e0c97074" class="">A single <code>always</code> statement can be used to describe multiple pieces of hardware. For example, consider our synchronizer circuit from earlier, which made use of two back-to-back flip-flops, as shown.</p></div><div id="6cab69bb-acdf-45be-be57-f03a9aa17b38" style="width:18.750000000000004%" class="column"><figure id="51fb36ac-64b8-48c2-b1fa-bfe435d771cd" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2019.png"><img style="width:466px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2019.png"/></a></figure></div></div><div id="64ddd6a2-7272-4d11-9871-7669b119feba" class="column-list"><div id="9e3358fe-cb09-49d8-8506-0e9653784060" style="width:50%" class="column"><p id="d2b47d2f-f453-49e5-a748-33177d4d5a17" class="">The example describes the synchronizer. On the rising edge of <code>clk</code>, <code>d</code> is copied to <code>n1</code>. At the same time, <code>n1</code> is copied to <code>q</code>. </p><p id="d488efdd-dc82-4a9a-a9c4-19584c442e34" class=""><code>n1</code>must be declared as <code>reg</code> because it is an internal signal used on the left hand side of <code>&lt;=</code> in an <code>always</code> statement. Also notice that the <code>begin/end</code> construct is necessary because multiple statements appear in the <code>always</code> statement. This is analogous to <code>{ }</code> in C or Java. The <code>begin/end</code> was not needed in the <code>flopr</code> example because <code>if/else</code> counts as a single statement.</p></div><div id="1493c3a6-a27c-4316-b2c0-3adcab6f4d96" style="width:50%" class="column"><pre id="8ac9364e-9813-4106-a217-6d988387197f" class="code"><code>module sync (input clk,
             input d,
             output reg q);
  reg n1;
  always @ (posedge clk)
    begin
      n1 &lt;= d;
      q &lt;= n1;
    end
endmodule</code></pre><figure id="8f1cb47d-5219-40ab-b3be-ac65006fdef9" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2020.png"><img style="width:720px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2020.png"/></a></figure></div></div><h2 id="f0415bd4-95df-4e0e-8034-693395d3cb4d" class="">Latches</h2><div id="e5c074ee-2790-4fb2-8663-cb94fd6eba4c" class="column-list"><div id="218e5a18-2280-496b-afd5-5c10121e3b94" style="width:50%" class="column"><p id="9af705dd-9d4b-448c-95b6-1800645d314e" class="">Recall from earlier that a D latch is transparent when the clock is HIGH, allowing data to flow from input to output. The latch becomes opaque when the clock is LOW, retaining its old state. The example shows the idiom for a D latch. Not all synthesis tools support latches well. Unless you know that your tool does support latches and you have a good reason to use them, avoid them and use edge-triggered flip-flops instead. Furthermore, take care that your HDL does not imply any unintended latches, something that is easy to do if you arenâ€™t attentive. Many synthesis tools warn you when a latch is created; if you didnâ€™t expect one, track down the bug in your HDL.</p><p id="7eca9cdc-ac5b-44b3-84c4-564a7bf00460" class="">The sensitivity list contains both <code>clk</code> and <code>d</code>, so that the <code>always</code> statement evaluates any time <code>clk</code> or <code>d</code> changes. If <code>clk</code> is HIGH, <code>d</code> flows through to <code>q</code>.</p><p id="a8b5436b-c13a-4ccd-adaa-f7dfbe94a2e0" class=""><code>q</code> must be declared to be a <code>reg</code> because it appears on the left hand side of <code>&lt;=</code> in an <code>always</code> statement. This does not always mean that <code>q</code> is the output of a register.</p></div><div id="5c7ec980-3a48-4f1b-9a9e-fe764d614aa0" style="width:50%" class="column"><pre id="65093bec-8fdc-417c-9f29-59bb48e10917" class="code"><code>module latch (input            clk,
              input      [3:0] d,
              output reg [3:0] q);
  always @ (clk, d)
    if (clk) q &lt;= d;
endmodule</code></pre><figure id="71c1e558-ceca-4e6a-b858-bec085d1c159" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2021.png"><img style="width:816px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2021.png"/></a></figure></div></div><h1 id="2733b3ce-c008-4cd7-8a59-0f474b21467b" class="">More Combinational Logic</h1><div id="2fd3cdb5-b5f0-4083-8a08-951019c30aea" class="column-list"><div id="7919df0f-7fb2-4259-b161-6c36a3fd85cc" style="width:50%" class="column"><p id="83afa8b8-8b0c-4f1a-98fe-51ae484b7518" class="">Earlier, we used assignment statements to describe combinational logic behaviorally. Verilog <code>always</code> statements are used to describe sequential circuits, because they remember the old state when no new state is prescribed. However, <code>always</code> statements can also be used to describe combinational logic behaviorally if the sensitivity list is written to respond to changes in all of the inputs and the body prescribes the output value for every possible input combination. The example uses <code>always</code> statements to describe a bank of four inverters.</p><p id="e014f3e6-5e58-4817-b288-d91d702ed49a" class=""><code>alyways @ (</code><em><code>)</code></em><em> reevaluates statements inside the </em><em><code>always</code></em><em> statement anytime any of the signals on the right hand side of </em><em><code>&lt;=</code></em><em> or </em><em><code>=</code></em><em> inside the </em><em><code>always</code></em><em> statement change. Thus, </em><em><code>@ (*</code></em><code>)</code> is a safe way to model combinational logic. in this particular example, <code>@ (a)</code> would also have sufficed.</p><p id="fab9ecb5-438d-4f99-9de8-db74ee1da422" class="">The <code>=</code> in the <code>always</code> statement is called a <em>blocking assignment</em>, in contrast to the <code>&lt;=</code> nonblocking assignment. In Verilog, it is good practice to use blocking assignments for combinational logic and nonbloocking assignments for sequential logic.</p><p id="f35df34b-d116-417a-9086-567c281267e8" class="">Note that <code>y</code> must be declared as <code>reg</code> because it appears on the left hand side of a <code>&lt;=</code> or <code>=</code> sign in an <code>always</code> statement. Nevertheless, <code>y</code> is the output of combinational logic, not a register.</p></div><div id="741e2cd5-fa1c-4250-9603-2e283d0d6521" style="width:50%" class="column"><pre id="c2e021da-622d-4a3f-ab99-176556985d00" class="code"><code>module inv (input      [3:0] a,
            output reg [3:0] y);
  always @ (*)
    y = ~a;
endmodule</code></pre></div></div><p id="3ca80a6b-cd56-4656-9853-13d82ad0cf52" class="">HDLs support <em>blocking</em> and <em>nonblocking assignments</em> in an <code>always</code> statement. A group of blocking assignments are evaluated in the order in which they appear in the code, just as one would expect in a standard programming language. A group of nonblocking assignments are evaluated concurrently; all of the statements are evaluated before any of the signals on the left hand sides are updated.</p><div id="950151cc-3067-4b05-9519-b246067ee373" class="column-list"><div id="1ce9424b-e45d-4ae9-86fa-675977f02535" style="width:50%" class="column"><p id="3750222b-e9db-4f27-8ee2-6c33bec74d07" class="">The example defines a full adder using intermediate signals <code>p</code> and <code>g</code> to compute <code>s</code> and <code>cout</code>. It produces the same circuit from earlier, but uses <code>always</code> statements in place of assignment statements.</p><p id="a313c182-b435-419b-91a5-0407cf15298d" class="">In this case, an <code>@ (a, b, cin)</code> would have been equivalent to <code>@ (</code><em><code>)</code></em><em>. However, </em><em><code>@ (*</code></em><code>)</code> is better because it avoids common mistakes of missing signals in the stimulus list.</p><p id="60f1fc41-50e6-45d7-b92c-9df4785c3742" class="">For reasons that will be discussed later, it is best to use blocking assignments for combinational logic. This example uses blocking assignments, first computing <code>p</code>, then <code>q</code>, then <code>s</code> and finally <code>cout</code>.</p><p id="8225db68-526d-4a48-b162-13de2459e7e6" class="">Because <code>p</code> and <code>g</code> appear on the left hand side of an assignment in an <code>always</code> statement, they must be declared to be <code>reg</code>.</p></div><div id="0674c4cd-84a5-4e2f-a112-0f8b2d56648d" style="width:50%" class="column"><pre id="e5003fe0-7c2f-46de-8120-0f5eb265c680" class="code"><code>module fulladder (input      a, b, cin,
                  output reg s, cout);
  reg p, g;
  always @ (*)
    begin
      p = a ^ b; // blocking
      g = a &amp; b; // blocking
      s = p ^ cin; // blocking
      cout = g | (p &amp; cin); // blocking
    end
endmodule</code></pre></div></div><p id="fbf2e571-74cc-42c1-a2d8-71547bc437a5" class="">These two examples are poor applications of <code>always</code> statements for modeling combinational logic because they require more lines than the equivalent approach with assignment statements from earlier. Moreover, they pose the risk of inadvertently implying sequential logic if the inputs are left out of the sensitivity list. However, <code>case</code> and <code>if</code> statements are convenient for modeling more complicated combinational logic. <code>case</code> and <code>if</code> statements must appear within <code>always</code> statements and are examined in the next sections.</p><p id="0926ade6-a908-4db2-8072-a5d829678ec7" class="">In a Verilog <code>always</code> statement, <code>=</code> indicates a blocking assignment and <code>&lt;=</code> indicates a non-blocking assignment (also called a concurrent assignment).</p><p id="7dad7f89-ecee-4fbc-ac1d-6fa3450ff847" class="">Do not confuse either type with continuous assignment using the <code>assign</code> statement. <code>assign</code> statements must be used outside <code>always</code> statements and are also evaluated concurrently.</p><h2 id="d338282f-6008-4ada-8bdf-ada702998c35" class="">Case Statements</h2><p id="90f45275-86f7-45e6-9036-60190e063afc" class="">A better application of using the <code>always</code> statement for combinational logic is a seven-segment display decoder that takes advantage of the <code>case</code> statement that must appear inside an <code>always</code> statement.</p><div id="f327be81-9a73-459e-a667-885db6e8766b" class="column-list"><div id="5fba0d80-af96-4e5f-8173-8d07c6e91284" style="width:50%" class="column"><p id="1499d5b5-d3c1-447b-94f7-73c6fbe2bb93" class="">As one might have noticed, the design process for large blocks of combinational logic is tedious and prone to error. HDLs offer a great improvement, allowing you to specify the function at a higher level of abstraction, and then automatically synthesize the function into gates. The example uses <code>case</code> statements to describe a seven-segment display decoder based on its truth table. The <code>case</code> statement performs different actions depending on the value of its input. A <code>case</code> statement implies combinational logic if all possible input combinations are defined; otherwise it implies sequential logic, because the output will keep its old value in the undefined cases. The synthesizer used synthesizes the seven-segment display decoder into a <em>read-only memory (ROM)</em> containing the 7 outputs for each of the 16 possible inputs. ROMs are discussed further later.</p><p id="d83fa30a-ae56-4dd4-9c25-1c30310f3e95" class="">If the <code>default</code> clause were left out of the <code>case</code> statement, the decoder would have remembered its previous output anytime data were in the range of 10-15. This is strange behavior for hardware.</p><p id="f51690a9-6671-4bab-93af-46083aa98196" class="">The <code>case</code> statement checks the value of <code>data</code>. When <code>data</code> is 0, the statement performs the action after the colon, setting <code>segments</code> to 1111110. The <code>case</code> statement similarly checks other <code>data</code> values up to 9 (note the use of the default base, base 10).</p><p id="d7e6274f-b981-4cb2-808e-d663bc4577da" class="">The <code>default</code> clause is a convenient way to define the output for all cases not explicitly listed, guaranteeing combinational logic.</p><p id="547cbf5e-e858-4b8d-833a-8bab0a2387e1" class="">In Verilog, <code>case</code> statements must appear inside <code>always</code> statements.</p></div><div id="1e1598ea-03df-4676-9a95-3fde76dc79e3" style="width:50%" class="column"><pre id="0abbdf07-413e-422b-8be0-241f0bda1e9e" class="code"><code>module sevenseg (input      [3:0] data,
                 output reg [6:0] segments);
  always @ (*)
    case (data)
      // abc_defg
      0: segments = 7â€™b111_1110;
      1: segments = 7â€™b011_0000;
      2: segments = 7â€™b110_1101;
      3: segments = 7â€™b111_1001;
      4: segments = 7â€™b011_0011;
      5: segments = 7â€™b101_1011;
      6: segments = 7â€™b101_1111;
      7: segments = 7â€™b111_0000;
      8: segments = 7â€™b111_1111;
      9: segments = 7â€™b111_1011;
      default: segments = 7â€™b000_0000;
    endcase
endmodule</code></pre><figure id="c065b70d-3a69-4521-863b-f54dcfc8d769" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2022.png"><img style="width:912px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2022.png"/></a></figure></div></div><div id="07044953-97b2-4748-8b9e-8e5ac492fbf1" class="column-list"><div id="af9a7f69-4680-466e-8015-5296816989a1" style="width:50%" class="column"><p id="31524c26-357c-49b3-a704-fe0963d4b9ab" class="">Ordinary decoders are also commonly written with <code>case</code> statements. The example describes a 3:8 decoder. </p><p id="96145709-c731-4b29-8dab-0623f544f021" class="">No <code>default</code> statement is needed because all cases are covered.</p></div><div id="1db4a053-2544-4a31-9aaf-cf8ec1fd87be" style="width:50%" class="column"><pre id="61fc3124-d376-4b5a-bed3-e215048096cc" class="code"><code>module decoder3_8 (input      [2:0] a,
                   output reg [7:0] y);
  always @ (*)
    case (a)
      3â€™b000: y = 8â€™b00000001;
      3â€™b001: y = 8â€™b00000010;
      3â€™b010: y = 8â€™b00000100;
      3â€™b011: y = 8â€™b00001000;
      3â€™b100: y = 8â€™b00010000;
      3â€™b101: y = 8â€™b00100000;
      3â€™b110: y = 8â€™b01000000;
      3â€™b111: y = 8â€™b10000000;
    endcase
endmodule</code></pre><figure id="373dfe3d-feb9-4394-9e70-84c9222ddb4b" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2023.png"><img style="width:432px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2023.png"/></a></figure></div></div><h2 id="af5167ce-1c99-44c8-bfd3-373de0c9bb09" class="">If Statements</h2><p id="093e3842-0f8d-4eaf-863b-9f09dbb9fcb9" class=""><code>always</code> statements may also contain <code>if</code> statements. The <code>if</code> statement may be followed by an <code>else</code> statement. If all possible input combinations are handled, the statement implies combinational logic; otherwise, it produces sequential logic.</p><div id="9e4c080d-5378-479e-bfd8-3be74e8690a8" class="column-list"><div id="c2bd2e48-b78e-4505-9b88-29214dd64b18" style="width:50%" class="column"><p id="dbfe5064-13eb-4104-be2d-2efd16d4d20e" class="">The example uses <code>if</code> statements to describe a priority circuit. Recall that an <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>-input priority circuit sets the output TRUE that corresponds to the most significant input that is true. </p><p id="62f16e6b-2b7d-4f27-a1fa-6bcb081e9cbe" class="">In Verilog, <code>if</code> statements must appear inside of <code>always</code> statements.</p></div><div id="3120916c-72a8-4b84-81b6-e310c091a12d" style="width:50%" class="column"><pre id="93331bb3-e1bd-4eaf-adde-60625a14c27c" class="code"><code>module priority (input      [3:0] a,
                 output reg [3:0] y);
  always @ (*)
    if (a[3]) y = 4â€™b1000;
    else if (a[2]) y = 4â€™b0100;
    else if (a[1]) y = 4â€™b0010;
    else if (a[0]) y = 4â€™b0001;
    else y = 4â€™b0000;
endmodule</code></pre><figure id="84d4e675-ac6c-4cb6-b06a-8f2605e4d566" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2024.png"><img style="width:720px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2024.png"/></a></figure></div></div><h2 id="7fa68f84-ebae-48d4-89ba-fbde69516eac" class="">Verilog <code>casez</code></h2><div id="b5ab81a4-982c-45a9-a652-7a2b2ff04a35" class="column-list"><div id="77db95a2-e49f-46c4-9d7d-b53330eb7271" style="width:50%" class="column"><p id="cebdf6d4-99b9-42ee-b5ae-598e0abb4a51" class="">Verilog also provides the <code>casez</code> statement to describe truth tables with donâ€™t cares (indicated with <code>?</code> in the <code>casez</code> statement). The example shows how to describe a priority circuit with <code>casez</code>. The synthesizer used synthesizes a slightly different circuit for this module, shown in the figure, than it did for the previous priority circuit. However, the circuits are logically equivalent.</p></div><div id="972746c8-3c3c-43bc-b8a0-c5e0502ffe4b" style="width:50%" class="column"><pre id="a8b908cb-d95f-4ae6-90d0-61f08dac3362" class="code"><code>module priority_casez(input      [3:0] a,
                      output reg [3:0] y);
  always @ (*)
    casez (a)
      4â€™b1???: y = 4â€™b1000;
      4â€™b01??: y = 4â€™b0100;
      4â€™b001?: y = 4â€™b0010;
      4â€™b0001: y = 4â€™b0001;
      default: y = 4â€™b0000;
    endcase
endmodule</code></pre><figure id="91fa03dd-3fe5-4086-8b79-edbaae10b030" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2025.png"><img style="width:720px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2025.png"/></a></figure></div></div><h2 id="5ae9dc10-5b5f-45dc-b909-a756f1ab9079" class="">Blocking and Nonblocking Assignments</h2><p id="3be7a882-a8b4-4887-abd5-eb0adb32b6db" class="">The guidelines explaining when and how to use which type of assignment follow below. If these guidelines are not followed, it is possible to write code that appears to work in simulation but synthesizes to incorrect hardware.</p><ol type="1" id="a8b22d4d-85ea-4fc8-8c9f-914c7ce77b38" class="numbered-list" start="1"><li>Use <code>always @ (posedge clk)</code> and nonblocking assignments to model synchronous sequential logic.<pre id="8a32ad04-2fb1-4327-90ba-29464b3b3a18" class="code"><code>always @ (posedge clk)
  begin
    nl &lt;= d; // nonblocking
    q &lt;= nl; // nonblocking
  end</code></pre></li></ol><ol type="1" id="83e0e07d-6346-458b-94f6-b5f0251fd694" class="numbered-list" start="2"><li>Use continuous assignments to model simple combinational logic. <pre id="4f1bbec5-b507-47be-b990-bd70b22f94dc" class="code"><code>assign y = s ? d1 : d0;</code></pre></li></ol><ol type="1" id="4ede687c-101e-498f-b24e-83e8fbe61f0c" class="numbered-list" start="3"><li>Use <code>always @ (*)</code> and blocking assignments to model more complicated combinational logic where the <code>always</code> statement is helpful.<pre id="5e618b96-d41d-453e-a6e7-311030002c8f" class="code"><code>always @ (*)
  begin
    p = a ^ b; // blocking
    g = a &amp; b; // blocking
    s = p ^ cin;
    cout = g | (p &amp; cin);
  end</code></pre></li></ol><ol type="1" id="ed34286d-b2b9-4a98-8e31-f05deac40786" class="numbered-list" start="4"><li>Do not make assignments to the same signal in more than one <code>always</code> statement or continuous assignment statement.</li></ol><h3 id="e3686370-e27f-4401-a57e-79fd8b11a416" class="">Combinational Logic</h3><p id="d6482ee9-2f24-4ca2-bb89-359e7e39769d" class="">The full adder from above is correctly modeled using blocking assignments.</p><p id="f5838d85-2ada-4b18-b0e2-2c3c2d1451ca" class="">Imagine that <code>a</code>, <code>b</code>, and <code>cin</code> are all initially 0. <code>p</code>, <code>g</code>, <code>s</code> and <code>cout</code> are thus 0 as well. At some time, <code>a</code> changes to 1, triggering the <code>always</code> statement. The four blocking assignments evaluate in the order shown here. Note that <code>p</code> and <code>g</code> get their new values before <code>s</code> and <code>cout</code> are computed because of the blocking assignments. This is important because we want to compute <code>s</code> and <code>cout</code> using the new values of <code>p</code> and <code>g</code>.</p><ol type="1" id="b5941cf3-7eff-4cfb-a474-8c1fc246f526" class="numbered-list" start="1"><li><code>p</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âŠ•</mo><mn>0</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \oplus 0 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></span><span>ï»¿</span></span></li></ol><ol type="1" id="c0761d8f-6347-4c73-af74-91d966908256" class="numbered-list" start="2"><li><code>g</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ™</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">1 \bullet 0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ™</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span><span>ï»¿</span></span></li></ol><ol type="1" id="ed893f62-7aea-49f6-a2b1-72b4a1053d1a" class="numbered-list" start="3"><li><code>s</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âŠ•</mo><mn>0</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \oplus 0 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></span><span>ï»¿</span></span></li></ol><ol type="1" id="5d755bbe-d6bf-49ab-bdbd-a63bc00efed2" class="numbered-list" start="4"><li><code>cout</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>+</mo><mn>1</mn><mo>âˆ™</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">0+1\bullet 0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ™</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span><span>ï»¿</span></span></li></ol><div id="448ce7b9-ff91-4bbc-bb85-23db95743223" class="column-list"><div id="ebe943b9-f42a-4272-8198-017f25cecde1" style="width:50%" class="column"><p id="4a53bed8-d56b-4bd2-b28c-f75f286c4a47" class="">In contrast, the example illustrates the use of nonblocking assignments.</p><p id="0d781b65-1afb-4db6-b6d5-aca1346b8365" class="">Because <code>p</code> and <code>g</code> appear on the left hand side of an assignment in an <code>always</code> statement, they must be declared to be <code>reg</code>.</p><p id="3786146d-2744-4384-8cc7-d25f110eb035" class="">Now consider the same case of <code>a</code> rising from 0 to 1 while <code>b</code> and <code>cin</code> are 0. The four nonblocking assignments evaluate concurrently:</p><p id="c02c5cdb-3dde-4dbf-97f0-fbae1cb5c2d2" class=""><code>p</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âŠ•</mo><mn>0</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \oplus 0 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></span><span>ï»¿</span></span>, <code>g</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ™</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">1 \bullet 0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ™</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span><span>ï»¿</span></span>, <code>s</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âŠ•</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">0 \oplus 0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span><span>ï»¿</span></span>, <code>cout</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>+</mo><mn>0</mn><mo>âˆ™</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">0 + 0\bullet 0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ™</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span><span>ï»¿</span></span></p><p id="b4b6a44c-d29f-45cc-9c38-461e645376e1" class="">Observe that <code>s</code> is computed concurrently with <code>p</code> and hence uses the old value of <code>p</code>, not the new value. Therefore, <code>s</code> remains 0 rather than becoming 1. However, <code>p</code> does change from 0 to 1. This change triggers the <code>always</code> statement to evaluate a second time, as follows:</p><p id="50e0d038-65cc-4d57-ac94-19d140fee982" class=""><code>p</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âŠ•</mo><mn>0</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \oplus 0 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></span><span>ï»¿</span></span>, <code>g</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ™</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">1 \bullet 0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ™</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span><span>ï»¿</span></span>, <code>s</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âŠ•</mo><mn>0</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \oplus 0 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></span><span>ï»¿</span></span>, <code>cout</code> â† <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>+</mo><mn>1</mn><mo>âˆ™</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">0 + 1\bullet 0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ™</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span><span>ï»¿</span></span></p><p id="da1f9554-88bf-4d97-bd35-2bde1a31feb5" class="">This time, <code>p</code> is already 1, so <code>s</code> correctly changes to 1. The nonblocking assignments eventually reach the right answer, but the <code>always</code> statement had to evaluate twice. This makes simulation slower, though it synthesizes to the same hardware.</p><p id="c635501e-f7be-40c0-addd-2ba0b7275222" class="">If the sensitivity list of the <code>always</code> statement in the example were written as <code>always @ (a, b, cin)</code> rather than <code>always @ (*)</code>, then the statement would not reevaluate when <code>p</code> or <code>g</code> changes. In the example, <code>s</code> would be incorrectly left at 0, not 1.</p><p id="0e6c82f7-4ed2-4186-8f96-f52740bd3294" class="">Another drawback of nonblocking assignments in modeling combinational logic is that the HDL will produce the wrong result if you forget to include the intermediate variables in the sensitivity list.</p><p id="1ec3e175-5f7e-4b9e-be83-6c1fb1376f60" class="">Worse yet, some synthesis tools will synthesize the correct hardware even when a faulty sensitivity list causes incorrect simulation. This leads to a mismatch between the simulation results and what the hardware actually does.</p></div><div id="3e8f905a-62d8-43a7-b994-e23174df4f11" style="width:50%" class="column"><pre id="129bf3f9-83f4-489a-afe0-c452dbcd2bf5" class="code"><code>// nonblocking assignments (not recommended)
module fulladder (input      a, b, cin,
                  output reg s, cout);
  reg p, g;
  always @ (*)
    begin
      p &lt;= a ^ b; // nonblocking
      g &lt;= a &amp; b; // nonblocking
      s &lt;= p ^ cin;
      cout &lt;= g | (p &amp; cin);
    end
endmodule</code></pre></div></div><h3 id="7e7563f8-585f-4a2b-a88c-d969eb3bc026" class="">Sequential Logic</h3><p id="ffda5148-6196-48e7-8b28-b7368822efca" class="">The synchronizer from the example earlier is correctly modeled using nonblocking assignments. On the rising edge of the clock, <code>d</code> is copied to <code>n1</code> at the same time that <code>n1</code> is copied to <code>q</code>, to the code properly describes two registers. For example, suppose initially that <code>d</code> = 0, <code>n1</code> = 1, and <code>q</code> = 0. On the rising edge of the clock, the following two assignments occur concurrently, so that after the clock edge, <code>n1</code> = 0 and <code>q</code> = 1.</p><p id="72719ca8-d5d7-426c-9185-2f5ff2d7078f" class=""><code>n1</code> â† <code>d</code> = 0, <code>q</code> â† <code>n1</code> = 1</p><div id="78c20dbf-0743-4f73-8819-bd37bd56d1a5" class="column-list"><div id="bef9b31f-b30b-441e-9c3e-d48e061dcd50" style="width:50%" class="column"><p id="1fda438a-d459-4952-9a38-7d3771f46272" class="">The example tries to describe the same module using blocking assignments. On the rising edge of <code>clk</code>, <code>d</code> is copied to <code>n1</code>. Then this new value of <code>n1</code> is copied to <code>q</code>, resulting in <code>d</code> improperly appearing at both <code>n1</code> and <code>q</code>. The assignments occur one after the other so that after the clock edge, <code>q = n1</code> = 0. </p><ol type="1" id="d671b17b-f5c5-4c51-a2c4-12934e004b6b" class="numbered-list" start="1"><li><code>n1</code> â† <code>d</code> = 0</li></ol><ol type="1" id="44257b3b-070b-4c99-8f0d-e347f9e1eaea" class="numbered-list" start="2"><li><code>q</code> â† <code>n1</code> = 0</li></ol><p id="3c468823-b954-4312-ba73-0f40710b3c4f" class="">Because <code>n1</code> is invisible to the outside world and does not influence the behavior of <code>q</code>, the synthesizer optimizes it away entirely, as shown in the figure.</p><p id="da467387-3d02-459c-b5e9-7b36114b1437" class="">The moral of this illustration is to exclusively use nonblocking assignment in <code>always</code> statements when modeling sequential logic. With sufficient cleverness, such as reversing the orders of the assignments, you could make blocking assignments work correctly, but blocking assignments offer no advantages and only introduce the risk of unintended behavior. Certain sequential circuits will not work with blocking assignments no matter what the order.</p></div><div id="2e799881-5161-44ab-84a1-361519d4a486" style="width:50%" class="column"><pre id="e543524b-6df7-4ee1-ac01-9fee56a2e370" class="code"><code>// Bad implementation using blocking assignments
module syncbad (input clk,
                input d,
  output reg q);
  reg n1;
  always @ (posedge clk)
    begin
      n1 = d; // blocking
      q = n1; // blocking
    end
endmodule</code></pre><figure id="7871a2f9-30e6-4654-ae10-ec819211196f" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2026.png"><img style="width:568px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2026.png"/></a></figure></div></div><h1 id="b0330048-c64b-497a-80a6-7376651f3135" class="">Finite State Machines</h1><div id="e02436b5-badb-45b7-b4dd-e1532faa54cf" class="column-list"><div id="d68c2a3b-1992-4504-b9b3-70b833686b22" style="width:50%" class="column"><p id="3aae6e00-8257-44ca-a8a9-71ff62787beb" class="">Recall that a finite state machine consists of a state register and two blocks of combinational logic to compute the next state and the output given the current state and the input. HDL descriptions of state machines are correspondingly divided into three parts to model the state register, the next state logic, and the output logic.</p><p id="88528d09-9c85-464c-a5ec-6af904c52364" class="">The example describes the divide-by-3 FSM from earlier. It provides an asynchronous reset to initialize the FSM. The state register uses the ordinary idiom for flip-flops. The next state and output logic blocks are combinational.</p><p id="05f150ca-218b-413f-a369-7a6201d3f763" class="">The <code>parameter</code> statement is used to define constants within a module. Naming the states with parameters is not required, but it makes changing state encodings much easier and makes the code more readable.</p><p id="dda6d841-6050-44ba-b2fe-1910ee26c4d4" class="">Notice how a <code>case</code> statement is used to define the state transition table. Because the next state logic should be combinational, a <code>default</code> is necessary even though the state <code>2&#x27;b11</code> should never arise.</p><p id="c0774748-6cff-47ce-aa35-5b51d01d4441" class="">The output, <code>y</code>, is 1 when the state is <code>S0</code>. The <em>equality comparison</em> <code>a == b</code> evaluates to 1 if <code>a</code> equals <code>b</code> and 0 otherwise. The <em>inequality comparison</em> <code>a != b</code> does the inverse, evaluating to 1 if <code>a</code> does not equal <code>b</code>.</p><p id="0029f63d-8489-4f7d-bdbc-e0c79e7f4b95" class="">The synthesis tool used just produces a block diagram and state transition diagram for state machines; it does not show the logic gates or the inputs and outputs on the arcs and states. Therefore, be careful that you have specified the FSM correctly in your HDL code. The state transition diagram for the divide-by-3 FSM is analogous to the diagram we saw earlier. The double circle indicates that S0 is the reset state.</p><p id="d9945b01-9d7a-445d-9d8b-bbda8ae1c088" class="">If for some reason, we had wanted the output to be HIGH in states S= and S1, the output logic would be modified as follows:</p><pre id="f320140a-bcd4-4b3e-b4a5-918eda0aeaa2" class="code"><code>// output logic
assign y = (state == S0 | state == S1);</code></pre></div><div id="ce7d80cd-e4d3-468c-a25c-8d3e991ce1b7" style="width:50%" class="column"><pre id="666dc0a8-5f31-4a51-9cd5-6642be954af7" class="code"><code>module divideby3FSM (input  clk,
                     input  reset,
                     output y);
  reg [1:0] state, nextstate;
  parameter S0  2b00;
  parameter S1  2b01;
  parameter S2  2b10;
  // state register
  always @ (posedge clk, posedge reset)
    if (reset) state &lt;= S0;
    else state &lt;= nextstate;
  // next state logic
  always @ (*)
    case (state)
      S0: nextstate = S1;
      S1: nextstate = S2;
      S2: nextstate = S0;
      default: nextstate = S0;
    endcase
  // output logic
  assign y = (state == S0);
endmodule</code></pre><figure id="f5d24025-619b-48f9-9b87-7263a36422e9" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2027.png"><img style="width:720px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2027.png"/></a></figure></div></div><p id="2e2ca3bc-f215-4144-ab6a-1ba77e5cbcaf" class="">The next two examples describe the snail pattern recognizer FSM from earlier. The code shows how to use <code>case</code> and <code>if</code> statements to handle next state and output logic that depend on the inputs as well as the current state. We show both Moore and Mealy modules. In the Moore machine, the output depends only on the current state, whereas in the Mealy machine, the output logic depends on both the current state and inputs.</p><h3 id="c6ae8fb6-6758-4a20-b268-1dcd7b0235d4" class="">Moore FSM</h3><div id="f628f3ba-e254-4233-82f2-d1c56a43c063" class="column-list"><div id="c29f3518-8b15-4088-be71-c88544b448fb" style="width:50%" class="column"><p id="823f45bc-7fc0-4650-a02d-0cef43baddc8" class="">Note how nonblocking assignments (<code>&lt;=</code>) are used in the register to describe sequential logic, whereas blocking assignments (<code>=</code>) are used in the next state logic to describe combinational logic.</p></div><div id="cc464735-65fc-4ae3-845d-1ff3e31d67e2" style="width:50%" class="column"><pre id="f857b1b3-e171-41a7-ae12-15460f09c09a" class="code"><code>module patternMoore (input  clk,
                     input  reset,
                     input  a,
                     output y);
  reg [2:0] state, nextstate;
  parameter S0 = 3b000;
  parameter S1 = 3b001;
  parameter S2 = 3b010;
  parameter S3 = 3b011;
  parameter S4 = 3b100;
  // state register
  always @ (posedge clk, posedge reset)
    if (reset) state &lt;= S0;
    else state &lt;= nextstate;
  // next state logic
  always @ (*)
    case (state)
      S0: if (a) nextstate = S1;
          else nextstate = S0;
      S1: if (a) nextstate = S2;
          else nextstate = S0;
      S2: if (a) nextstate = S2;
          else nextstate = S3;
      S3: if (a) nextstate = S4;
          else nextstate = S0;
      S4: if (a) nextstate = S2;
          else nextstate = S0;
      default: nextstate = S0;
    endcase
  // output logic
  assign y = (state == S4);
endmodule</code></pre><figure id="64817222-d61c-46cc-b0b3-cd1f512ade2e" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2028.png"><img style="width:912px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2028.png"/></a></figure></div></div><h3 id="985005b5-efea-4cc6-a9fa-64f454f60fde" class="">Mealy FSM</h3><div id="c15a79ca-33d4-4eca-9211-f31994b39524" class="column-list"><div id="95ba2ab4-d8c9-4d2f-808d-b0733dab7611" style="width:50%" class="column"><figure id="6b12c812-0227-404f-8f00-d9480434844a" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2029.png"><img style="width:960px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2029.png"/></a></figure></div><div id="b216bccb-1ad4-4e3f-8a77-3a2c17f22c0b" style="width:50%" class="column"><pre id="fec12758-1346-40f9-b838-c1c40d4897cd" class="code"><code>module patternMealy (input  clk,
                     input  reset,
                     input  a,
                     output y);
  reg [1:0] state, nextstate;
  parameter S0 = 2b00;
  parameter S1 = 2b01;
  parameter S2 = 2b10;
  parameter S3 = 2b11;
  // state register
  always @ (posedge clk, posedge reset)
    if (reset) state &lt;= S0;
    else state &lt;= nextstate;
  // next state logic
  always @ (*)
    case (state)
      S0: if (a) nextstate = S1;
          else nextstate = S0;
      S1: if (a) nextstate = S2;
          else nextstate = S0;
      S2: if (a) nextstate = S2;
          else nextstate = S3;
      S3: if (a) nextstate = S1;
          else nextstate = S0;
      default: nextstate = S0;
    endcase
  // output logic
  assign y = (a &amp; state == S3);
endmodule</code></pre></div></div><h1 id="2f749ab6-4807-4443-a6fc-4ebfc21b0c42" class="">Parameterized Modules</h1><p id="8d929b18-8c21-4aad-ac06-4dae13e7a4d1" class="">So far all of our modules have had fixed-width inputs and outputs. For example, we had to define separate modules for 4- and 8-bit wide 2:1 multiplexers. HDLs permit variable bit widths using parameterized modules.</p><h3 id="85f88cff-7b70-44ef-9438-a9e0176958fd" class="">Parameterized <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>-bit Multiplexers</h3><div id="f3ad281c-256e-4fe1-a666-cb4a44af6672" class="column-list"><div id="86784f91-4af9-4e48-a4f8-5efb69b00d1f" style="width:50%" class="column"><p id="97b66c95-0b39-441b-a307-6841e661b693" class="">Verilog allows a <code># (parameter ... )</code> statement before the inputs and outputs to define parameters. The <code>parameter</code> statement includes a default value (8) of the parameter, <code>width</code>. The number of bits in the inputs and outputs can depend on this parameter.</p></div><div id="079eba4e-e581-4839-bd28-c730d495359e" style="width:50%" class="column"><pre id="70224f8e-fd58-4ffa-9a0e-185477fb3e88" class="code"><code>module mux2
	# (parameter width = 8)
    (input  [width-1:0] d0, d1,
     input              s,
     output [width-1:0] y);
  assign y  s ? d1 : d0;
endmodule</code></pre></div></div><div id="de10cc74-e1c2-4f78-a5be-58e3d42a9b4d" class="column-list"><div id="08bd6330-d526-4693-b5a5-475ed757b3d4" style="width:50%" class="column"><p id="37176bda-484c-456c-89a7-f719f47ed6ec" class="">The 8-bit 4:1 multiplexer instantiates three 2:1 multiplexers using their default widths. </p></div><div id="9ddefdcd-abf7-4717-981d-a35554af529a" style="width:50%" class="column"><pre id="7cd5f7e2-7850-4d9a-a062-acb789d98649" class="code"><code>module mux4_8 (input  [7:0] d0, d1, d2, d3,
               input  [1:0] s,
               output [7:0] y);
  wire [7:0] low, hi;
  mux2 lowmux (d0, d1, s[0], low);
  mux2 himux (d2, d3, s[1], hi);
  mux2 outmux (low, hi, s[1], y);
endmodule</code></pre></div></div><div id="a88e8096-86e9-48a9-8285-35277e5106b2" class="column-list"><div id="21ef22d3-a1b2-49ef-9abb-9a75908e14bd" style="width:50%" class="column"><p id="177f7473-312b-47d3-88e9-824623b2c9cc" class="">In contrast, a 12-bit 4:1 multiplexer, <code>mux4_12</code>, would need to override the default width using <code>#()</code> before the instance name, as shown below. </p><p id="aab19221-f607-4eab-a050-909922986d8b" class="">Do not confuse the use of the <code>#</code> sign indicating delays with the use of <code>#(...)</code> in defining and overriding parameters.</p><p id="50ca1aed-ad69-42da-9925-6be5fbcb46aa" class="">This example declares a parameterized 2:1 multiplexer with a default width of 8, then uses it to create 8- and 12-bit 4:1 multiplexers.</p></div><div id="755a03e0-cea5-435d-bd8c-b56613b5bbb6" style="width:50%" class="column"><pre id="54a3909a-a008-4c7b-95c4-9026c56d8262" class="code"><code>module mux4_12 (input  [11:0] d0, d1, d2, d3,
                input  [1:0]  s,
                output [11:0] y);
  wire [11:0] low, hi;
  mux2 #(12) lowmux(d0, d1, s[0], low);
  mux2 #(12) himux(d2, d3, s[1], hi);
  mux2 #(12) outmux(low, hi, s[1], y);
endmodule</code></pre><figure id="e540a5ca-f991-4df5-b458-63b929bbdca8" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2030.png"><img style="width:864px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2030.png"/></a></figure></div></div><h3 id="cb565ee7-78b7-4cb4-a211-24bd0b0491d5" class="">Parameterized <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>:<style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">2^N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> Decoder</h3><div id="81c00534-ca0b-45a2-b778-4cce4990f742" class="column-list"><div id="d7939eec-adf3-4b91-be1a-a565cc2a90bf" style="width:50%" class="column"><p id="97b29a50-f437-4490-a67f-2f9af94687e1" class=""><code>2**N</code> indicates <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">2^N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span>.</p><p id="872bda38-0277-4875-92fd-977605940e5e" class="">This example shows a decoder, which is an even better application of parameterized modules. A large <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>:<style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">2^N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span><span>ï»¿</span></span> decoder is cumbersome to specify with <code>case</code> statements, but easy using parameterized code that simply sets the appropriate output bit to 1. Specifically, the decoder uses blocking assignments to set all the bits to 0, then changes the appropriate bit to 1.</p></div><div id="185cb462-26e8-4bc6-94d5-c69faa78c341" style="width:50%" class="column"><pre id="3d437996-24dc-45e1-b801-a3537d6c43b6" class="code"><code>module decoder # (parameter N = 3)
                 (input      [N-1:0]    a,
                  output reg [2**N-1:0] y);
  always @ (*)
    begin
      y = 0;
      y[a] = 1;
    end
endmodule</code></pre></div></div><h3 id="a39faa91-5736-40f9-a5c1-19f7f689737e" class="">Parameterized <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>-Input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> Gate</h3><div id="0674e4bb-97bc-4c1e-8471-0d8936b2e92e" class="column-list"><div id="38e19196-255f-49c3-9296-276beb2975ed" style="width:50%" class="column"><p id="2e90a90d-93f2-47ff-a5f4-53ac866bf731" class="">HDLs also provide <code>generate</code> statements to produce a variable amount of hardware depending on the value of a parameter. <code>generate</code> supports <code>for</code> loops and <code>if</code> statements to determine how many of what types of hardware to produce.</p><p id="b2761190-f7d7-45c3-ab1a-fdac42b919c1" class="">The example uses <code>generate</code> statements to produce an <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span><span>ï»¿</span></span>-input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> function from a cascade of two-input <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gates.</p><p id="0237e611-9c9a-4574-9ead-461e4d66bd05" class="">Use <code>generate</code> statements with caution; it is easy to produce a large amount of hardware unintentionally.</p><p id="8e1cab33-9187-4465-bb85-25a09270816b" class="">The <code>for</code> statement loops through <code>i = 1, 2, ..., width - 1</code> to produce many consecutive <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>AND</mtext></mrow><annotation encoding="application/x-tex">\text{AND}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">AND</span></span></span></span></span></span><span>ï»¿</span></span> gates. The <code>begin</code> in a <code>generate for</code> loop mmust be followed by a : and an arbitrary label (<code>forloop</code>, in this case).</p><p id="4f554919-99a9-414c-bc67-7b84c012cc6b" class="">Of course, writing <code>assign y = &amp;a</code> would be much easier.</p></div><div id="00575999-4812-4a22-a4d4-7d5e3fb4978d" style="width:50%" class="column"><pre id="2a7c9adb-b0dc-4350-bf7f-875b1375db3c" class="code"><code>module andN
  # (parameter width = 8)
    (input [width-1:0] a,
     output           y);
  genvar i;
  wire [width-1:1] x;
  generate
    for (i=1; i&lt;width; i=i+1) begin:forloop
      if (i == 1)
        assign x[1] = a[0] &amp; a[1];
      else
        assign x[i] = a[i] &amp; x[i-1];
    end
  endgenerate
  assign y = x[width-1];
endmodule</code></pre><figure id="a4eba6c5-01f6-494c-8a6c-bf51d6a595e9" class="image"><a href="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2031.png"><img style="width:1431px" src="Hardware%20Description%20Languages%20fcb219831f434191a76d1574a38442ae/Untitled%2031.png"/></a></figure></div></div><h1 id="647fecbb-62ff-4805-8270-568765ac3b86" class="">Testbenches</h1><p id="a87ae010-c83b-4823-839e-42a4bdd7e1c6" class="">A <em>testbench</em> is an HDL module that is used to test another module, called the <em>device under test (DUT)</em>. The testbench contains statements to apply inputs to the DUT and, ideally, to check that the correct outputs are produced. The input and desired output patterns are called <em>test vectors</em>.</p><div id="1be2c28c-86a1-403b-a8db-d2dc93718eb5" class="column-list"><div id="0ec6c9ba-2cfb-4685-a3fc-88cc1a161681" style="width:50%" class="column"><p id="a7a14ad2-80f1-4432-bef7-949876435b9a" class="">Consider testing the <code>sillyfunction</code> module from the first example of this page that computes <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mover accent="true"><mi>A</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>C</mi><mo>Ë‰</mo></mover><mo>+</mo><mi>A</mi><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>C</mi><mo>Ë‰</mo></mover><mo>+</mo><mi>A</mi><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mi>C</mi></mrow><annotation encoding="application/x-tex">Y = \bar{A}\bar{B}\bar{C}+A\bar{B}\bar{C}+A\bar{B}C
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9034399999999999em;vertical-align:-0.08333em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.11110999999999999em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9034399999999999em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8201099999999999em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span><span>ï»¿</span></span>. This is a simple module, so we can perform exhaustive testing by applying all eight possible test vectors.</p><p id="bf2efad3-ca15-48e5-a1d4-b550471f92cd" class="">The example demonstrates a simple testbench. It instantiates the DUT, then applies the inputs. Blocking assignments and delays are used to apply the inputs in the appropriate order. The user must view the results of the simulation and verify by inspection that the correct outputs are produced. Testbenches are simulates as every other HDL module. However, they are not synthesizable.</p><p id="0a340478-3325-491b-a6c3-1c5a8a507f10" class="">The <code>initial</code> statement executes the statements in its body at the start of simulation. In this case, it first applies the input pattern 000 and waits for 10 time units. It then applies 001 and waits 10 more units, and so forth until all eight possible inputs have been applied. <code>initial</code> statements should be used only in testbenches for simulation, not in modules intended to be synthesized into actual hardware. Hardware has no way of magically executing a sequence of special steps when it is first turned on.</p><p id="0ed9752b-4e01-4757-8a24-435857a2f304" class="">Like signals in <code>always</code> statements, signals in <code>initial</code> statements must be declared to be <code>reg</code>.</p></div><div id="c78c0a0b-9782-469f-83bb-2359139217ef" style="width:50%" class="column"><pre id="1765c1de-3fe3-4d04-ab4d-a3af9cee787d" class="code"><code>module testbench1 ();
  reg a, b, c;
  wire y;
  // instantiate device under test
  sillyfunction dut (a, b, c, y);
  // apply inputs one at a time
  initial begin
    a = 0; b = 0; c = 0; #10;
    c = 1; #10;
    b = 1; c = 0; #10;
    c = 1; #10;
    a = 1; b = 0; c = 0; #10;
    c = 1; #10;
    b = 1; c = 0; #10;
    c = 1; #10;
  end
endmodule</code></pre></div></div><div id="3152993f-986a-4baf-82dd-64b950c62409" class="column-list"><div id="93f39a1a-a361-4395-ae9f-7f494c4f6e45" style="width:50%" class="column"><p id="1190fe6d-1bfc-4e8a-8c9b-01e5de89cfaa" class="">Checking for correct outputs is tedious and error-prone. Moreover, determining the correct outputs is much easier when the design is fresh in your mind; if you make minor changes and need to retest weeks later, determining the correct outputs becomes a hassle. A much better approach is to write a self-checking testbench, as shown in the example.</p><p id="2136d639-0f85-4984-b693-2db496ce5786" class="">This module checks <code>y</code> against expectations after each input test vector is applied. In Verilog, comparison using <code>==</code> or <code>!=</code> is effective between signals that do not take on the values of <code>x</code> and <code>z</code>. Testbenches use the <code>===</code> and <code>!==</code> operators for comparisons of equality and inequality, respectively, because these operators work correctly with operands that could be <code>x</code> or <code>z</code>. It uses the <code>$display</code> <em>system task</em> to print a message on the simulator console if an error occurs. <code>$display</code> is meaningful only in simulation, not synthesis.</p></div><div id="9e39710c-6743-42f8-a8a0-9bf3049137aa" style="width:50%" class="column"><pre id="6c296421-5c67-4cc2-b209-759f20021357" class="code"><code>module testbench2 ();
  reg a, b, c;
  wire y;
  // instantiate device under test
  sillyfunction dut (a, b, c, y);
  // apply inputs one at a time
  // checking results
  initial begin
    a = 0; b = 0; c = 0; #10;
    if (y !== 1) $display(â€œ000 failed.â€);
    c = 1; #10;
    if (y !== 0) $display(â€œ001 failed.â€);
    b = 1; c = 0; #10;
    if (y !== 0) $display(â€œ010 failed.â€);
    c = 1; #10;
    if (y !== 0) $display(â€œ011 failed.â€);
    a = 1; b = 0; c = 0; #10;
    if (y !== 1) $display(â€œ100 failed.â€);
    c = 1; #10;
    if (y !== 1) $display(â€œ101 failed.â€);
    b = 1; c = 0; #10;
    if (y !== 0) $display(â€œ110 failed.â€);
    c = 1; #10;
    if (y !== 0) $display(â€œ111 failed.â€);
  end
endmodule</code></pre></div></div><div id="8a2e0f40-14bd-4d05-8f28-69f63d7d4cc7" class="column-list"><div id="2807278e-4c87-49cf-a6d4-398866416611" style="width:50%" class="column"><p id="0d590b06-d4b5-4752-ba2f-7d28186be8e5" class="">Writing code for each test vector also becomes tedious, especially for modules that require a large number of vectors. An even better approach is to place the test vectors in a separate file. The testbench simply reads the test vectors from the file, applies the input test vector to the DUT, waits, checks that the output values from the DUT match the output vector, and repeats until reaching the end of the test vectors file. The example demonstrates such a testbench. The testbench generates a clock using an <code>always</code> statement with no stimulus list, so that it is continuously reevaluated. At the beginning of the simulation, it reads the test vectors from a text file and pulses <code>reset</code> for two cycles. <a href="http://example.tv"><code>example.tv</code></a> is a text file containing the inputs and expected output written in binary: </p><pre id="32cde733-b044-4915-a930-0d1da2adfb2d" class="code"><code>000_1
001_0
010_0
011_0
100_1
101_1
110_0
111_0</code></pre><p id="a099eb4a-c730-4da7-9838-59fdb1aeb7da" class=""><code>$readmmemb</code> reads a file of binary numbers into the <code>testvectors</code> array. <code>$readmemh</code> is similar but reads a file of hexadecimal numbers.</p><p id="a5233cf7-cf75-41d1-99ea-52d75d0c795b" class="">The next block of code waits one time unit after the rising edge of the clock (to avoid any confusion if clock and data change simultaneously), then sets the three inputs and the expected output based on the four bits in the current test vector. The next block of code checks the output of the DUT at the negative edge of the clock, after the inputs have had time to propagate through the DUT to produce the output, <code>y</code>. The testbench compares the generated output, <code>y</code>, with the expected output, <code>yexpected</code>, and prints an error if they donâ€™t match. <code>%b</code> and <code>%d</code> indicate to print the values in binary and decimal, respectively. <code>%h</code> prints a value in hexadecimal.</p><p id="7fecdf43-87b7-4ee0-ba18-e57ff9d70c7a" class="">This process repeats until there are no more valid test vectors in the <code>testvectors</code> array. <code>$finish</code> terminates the simulation.</p><p id="50c0c640-7bdc-49b3-81e3-4c5bf2c47595" class="">Not that even though the Verilog module supports up to 10â€™001 test vectors, it will terminate the simulation after executing the eight vectors in the file.</p><p id="58a7dce5-517a-49bf-9931-904b05c40966" class="">New inputs are applied on the rising edge of the clock, and the output is checked on the falling edge of the clock. This clock (and <code>reset</code>) would also be provided to the DUT if sequential logic were being tested. Errors are reported as they occur. At the end of the simulation, the testbench prints the total number of test vectors applied and the number of errors detected.</p><p id="ce714a05-5b9c-4534-803d-7059b5d5689d" class="">The testbench in this example is overkill for such a simple circuit. However, it can easily be modified to test more complex circuits by changing the <a href="http://example.tv"><code>example.tv</code></a> file, instantiating the new DUT, and changing a few lines of code to set the inputs and check the outputs.</p></div><div id="ee2bc4c0-518a-49a7-8b45-65d07966339d" style="width:50%" class="column"><pre id="e827d90c-4887-42f1-9fc8-dacb4874cd60" class="code"><code>module testbench3 ();
  reg clk, reset;
  reg a, b, c, yexpected;
  wire y;
  reg [31:0] vectornum, errors;
  reg [3:0] testvectors [10000:0];
  // instantiate device under test
  sillyfunction dut (a, b, c, y);
  // generate clock
  always
    begin
      clk = 1; #5; clk = 0; #5;
    end
  // at start of test, load vectors
  // and pulse reset
  initial
    begin
      $readmemb (â€œexample.tvâ€, testvectors);
      vectornum = 0; errors = 0;
      reset = 1; #27; reset = 0;
    end
  // apply test vectors on rising edge of clk
  always @ (posedge clk)
    begin
      #1; {a, b, c, yexpected} =
           testvectors[vectornum];
    end
  // check results on falling edge of clk
  always @ (negedge clk)
    if (~reset) begin // skip during reset
      if (y !== yexpected) begin
        $display (â€œError: inputs = %bâ€, {a, b, c});
        $display (â€œ outputs = %b (%b expected)â€,
                  y, yexpected);
        errors = errors + 1;
      end
      vectornum = vectornum + 1;
      if (testvectors[vectornum] === 4â€™bx) begin
        $display (â€œ%d tests completed with %d errorsâ€,
                   vectornum, errors);
        $finish;
      end
    end
endmodule</code></pre></div></div></div></article></body></html>